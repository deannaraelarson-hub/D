const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B0YCh9hZ.js","assets/index-BHAdRtQm.js","assets/index-C0K0zGVm.css","assets/hashTypedData-BNw5g8kH.js"])))=>i.map(i=>d[i]);
import{ab as L,ae as Gt,ak as N,aZ as Ut,ap as q,aY as oe,aW as Ie,a_ as _i,aM as ce,aV as Ae,ac as ke,aq as ge,a$ as Li,b0 as Mi,aL as me,b1 as Gi,b2 as Ui,b3 as Xn,b4 as ji,af as dt,ag as _e,at as Os,b5 as Tt,b6 as Qe,b7 as Mr,b8 as Gr,b9 as Ur,ba as jr,bb as Vr,bc as Dr,bd as Hr,be as qr,bf as Ft,bg as yt,bh as Zr,aO as _s,ah as Ls,bi as Vi,bj as Ct,bk as Wr,bl as Ms,bm as Tn,bn as Di,bo as Nn,ai as ft,bp as Kr,bq as Gs,br as Yr,bs as Hi,aK as dn,ao as qi,am as Zi,ad as Wi,aG as Ki,aI as Yi,aJ as Ji,aF as Xi,bt as Us,bu as Jr,bv as Qi}from"./index-BHAdRtQm.js";import{f as Fe,g as js,j as Vs,l as Ds,m as tt,A as Xr,n as Ve,t as Qn,k as Le,b as gt,o as wt,p as Hs,q as qs,r as ea,u as Zs,v as ta,s as lt,w as er,x as Ws,d as be,i as ie,I as ue,e as he,y as na,z as ra,D as tr,B as zt,C as Rt,E as Ks,F as sa,G as Qr,H as es,J as oa,K as ts,L as ia,M as aa,c as Ys,N as ca,O as ua,P as fa,Q as da,R as la,U as ba,S as Js,T as ha,V as kn,h as Xs,a as pa}from"./hashTypedData-BNw5g8kH.js";const ma="1.2.3";let Q=class Fn extends Error{constructor(t,n={}){var i;const r=n.cause instanceof Fn?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof Fn&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${ma}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};const Qs=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ya(e){return Qs.test(e)}function ga(e){return Fe(Qs,e)}const eo=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function wa(e){return eo.test(e)}function va(e){return Fe(eo,e)}const to=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function xa(e){return to.test(e)}function Pa(e){return Fe(to,e)}const no=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function jt(e){return no.test(e)}function Ea(e){return Fe(no,e)}const ro=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Ba(e){return ro.test(e)}function Ia(e){return Fe(ro,e)}const so=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Aa(e){return so.test(e)}function $a(e){return Fe(so,e)}const Sa=/^receive\(\) external payable$/;function Ta(e){return Sa.test(e)}const ns=new Set(["memory","indexed","storage","calldata"]),Na=new Set(["indexed"]),Cn=new Set(["calldata","memory","storage"]);class ka extends Q{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Fa extends Q{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Ca extends Q{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class za extends Q{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Ra extends Q{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Oa extends Q{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class _a extends Q{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class La extends Q{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Ma extends Q{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class nt extends Q{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Ga extends Q{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Ua extends Q{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class ja extends Q{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Va extends Q{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Da(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const ln=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function zn(e,t={}){if(xa(e))return Ha(e,t);if(wa(e))return qa(e,t);if(ya(e))return Za(e,t);if(Ba(e))return Wa(e,t);if(Aa(e))return Ka(e);if(Ta(e))return{type:"receive",stateMutability:"payable"};throw new Ga({signature:e})}function Ha(e,t={}){const n=Pa(e);if(!n)throw new nt({signature:e,type:"function"});const r=ee(n.parameters),s=[],o=r.length;for(let c=0;c<o;c++)s.push($e(r[c],{modifiers:Cn,structs:t,type:"function"}));const i=[];if(n.returns){const c=ee(n.returns),a=c.length;for(let u=0;u<a;u++)i.push($e(c[u],{modifiers:Cn,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function qa(e,t={}){const n=va(e);if(!n)throw new nt({signature:e,type:"event"});const r=ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push($e(r[i],{modifiers:Na,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Za(e,t={}){const n=ga(e);if(!n)throw new nt({signature:e,type:"error"});const r=ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push($e(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Wa(e,t={}){const n=Ia(e);if(!n)throw new nt({signature:e,type:"constructor"});const r=ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push($e(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Ka(e){const t=$a(e);if(!t)throw new nt({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Ya=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ja=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Xa=/^u?int$/;function $e(e,t){var d,l;const n=Da(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(ln.has(n))return ln.get(n);const r=Ds.test(e),s=Fe(r?Ja:Ya,e);if(!s)throw new Ra({param:e});if(s.name&&e0(s.name))throw new Oa({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},c=(t==null?void 0:t.structs)??{};let a,u={};if(r){a="tuple";const h=ee(s.type),p=[],b=h.length;for(let g=0;g<b;g++)p.push($e(h[g],{structs:c}));u={components:p}}else if(s.type in c)a="tuple",u={components:c[s.type]};else if(Xa.test(s.type))a=`${s.type}256`;else if(s.type==="address payable")a="address";else if(a=s.type,(t==null?void 0:t.type)!=="struct"&&!oo(a))throw new Ca({type:a});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new _a({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Cn.has(s.modifier)&&!t0(a,!!s.array))throw new La({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${a}${s.array??""}`,...o,...i,...u};return ln.set(n,f),f}function ee(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],c=e.slice(o+1);switch(i){case",":return r===0?ee(c,[...t,n.trim()]):ee(c,t,`${n}${i}`,r);case"(":return ee(c,t,`${n}${i}`,r+1);case")":return ee(c,t,`${n}${i}`,r-1);default:return ee(c,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Va({current:n,depth:r});return t.push(n.trim()),t}function oo(e){return e==="address"||e==="bool"||e==="function"||e==="string"||js.test(e)||Vs.test(e)}const Qa=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function e0(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||js.test(e)||Vs.test(e)||Qa.test(e)}function t0(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function nr(e){const t={},n=e.length;for(let i=0;i<n;i++){const c=e[i];if(!jt(c))continue;const a=Ea(c);if(!a)throw new nt({signature:c,type:"struct"});const u=a.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const p=u[l].trim();if(!p)continue;const b=$e(p,{type:"struct"});f.push(b)}if(!f.length)throw new Ua({signature:c});t[a.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[c,a]=s[i];r[c]=io(a,t)}return r}const n0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function io(e=[],t={},n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Ds.test(i.type))r.push(i);else{const a=Fe(n0,i.type);if(!(a!=null&&a.type))throw new Ma({abiParameter:i});const{array:u,type:f}=a;if(f in t){if(n.has(f))throw new ja({type:f});r.push({...i,type:`tuple${u??""}`,components:io(t[f],t,new Set([...n,f]))})}else if(oo(f))r.push(i);else throw new Fa({type:f})}}return r}function ao(e){const t=nr(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];jt(o)||n.push(zn(o,t))}return n}function rs(e){let t;if(typeof e=="string")t=zn(e);else{const n=nr(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!jt(o)){t=zn(o,n);break}}}if(!t)throw new ka({signature:e});return t}function ss(e){const t=[];if(typeof e=="string"){const n=ee(e),r=n.length;for(let s=0;s<r;s++)t.push($e(n[s],{modifiers:ns}))}else{const n=nr(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(jt(o))continue;const i=ee(o),c=i.length;for(let a=0;a<c;a++)t.push($e(i[a],{modifiers:ns,structs:n}))}}if(t.length===0)throw new za({params:e});return t}function _(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}class r0 extends L{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const os="/docs/contract/encodeEventTopics";function vt(e){var a;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=tt({abi:t,name:n});if(!u)throw new Xr(n,{docsPath:os});s=u}if(s.type!=="event")throw new Xr(void 0,{docsPath:os});const o=Ve(s),i=Qn(o);let c=[];if(r&&"inputs"in s){const u=(a=s.inputs)==null?void 0:a.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(c=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((h,p)=>is({param:d,value:f[l][p]})):typeof f[l]<"u"&&f[l]!==null?is({param:d,value:f[l]}):null))??[])}return[i,...c]}function is({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Le(Gt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new r0(e.type);return gt([e],[t])}function Vt(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:c,transport:a})=>{c==="success"&&t===o&&(n[i]=a.request)})),(o=>n[o]||e.request)}async function co(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:c,toBlock:a}=t,u=Vt(e,{method:"eth_newFilter"}),f=o?vt({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?N(i):i,toBlock:typeof a=="bigint"?N(a):a,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!c,type:"event"}}function te(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const s0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},uo={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},o0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let as=class extends L{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},fo=class extends L{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},i0=class extends L{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const a0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new i0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new fo({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new as({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new as({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function rr(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(a0);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function c0(e,t={}){typeof t.size<"u"&&Ut(e,{size:t.size});const n=q(e,t);return ce(n,t)}function u0(e,t={}){let n=e;if(typeof t.size<"u"&&(Ut(n,{size:t.size}),n=Ie(n)),n.length>1||n[0]>1)throw new _i(n);return!!n[0]}function Ee(e,t={}){typeof t.size<"u"&&Ut(e,{size:t.size});const n=q(e,t);return oe(n,t)}function f0(e,t={}){let n=e;return typeof t.size<"u"&&(Ut(n,{size:t.size}),n=Ie(n,{dir:"right"})),new TextDecoder().decode(n)}function xt(e,t){const n=typeof t=="string"?Ae(t):t,r=rr(n);if(ke(n)===0&&e.length>0)throw new wt;if(ke(t)&&ke(t)<32)throw new Hs({data:typeof t=="string"?t:q(t),params:e,size:ke(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const c=e[i];r.setPosition(s);const[a,u]=Ye(r,c,{staticPosition:0});s+=u,o.push(a)}return o}function Ye(e,t,{staticPosition:n}){const r=qs(t.type);if(r){const[s,o]=r;return l0(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return m0(e,t,{staticPosition:n});if(t.type==="address")return d0(e);if(t.type==="bool")return b0(e);if(t.type.startsWith("bytes"))return h0(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return p0(e,t);if(t.type==="string")return y0(e,{staticPosition:n});throw new ea(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const cs=32,Rn=32;function d0(e){const t=e.readBytes(32);return[Zs(q(ta(t,-20))),32]}function l0(e,t,{length:n,staticPosition:r}){if(!n){const i=Ee(e.readBytes(Rn)),c=r+i,a=c+cs;e.setPosition(c);const u=Ee(e.readBytes(cs)),f=bt(t);let d=0;const l=[];for(let h=0;h<u;++h){e.setPosition(a+(f?h*32:d));const[p,b]=Ye(e,t,{staticPosition:a});d+=b,l.push(p)}return e.setPosition(r+32),[l,32]}if(bt(t)){const i=Ee(e.readBytes(Rn)),c=r+i,a=[];for(let u=0;u<n;++u){e.setPosition(c+u*32);const[f]=Ye(e,t,{staticPosition:c});a.push(f)}return e.setPosition(r+32),[a,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[c,a]=Ye(e,t,{staticPosition:r+s});s+=a,o.push(c)}return[o,s]}function b0(e){return[u0(e.readBytes(32),{size:32}),32]}function h0(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ee(e.readBytes(32));e.setPosition(n+i);const c=Ee(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const a=e.readBytes(c);return e.setPosition(n+32),[q(a),32]}return[q(e.readBytes(Number.parseInt(s,10),32)),32]}function p0(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?c0(s,{signed:n}):Ee(s,{signed:n}),32]}function m0(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(bt(t)){const i=Ee(e.readBytes(Rn)),c=n+i;for(let a=0;a<t.components.length;++a){const u=t.components[a];e.setPosition(c+o);const[f,d]=Ye(e,u,{staticPosition:c});o+=d,s[r?a:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const c=t.components[i],[a,u]=Ye(e,c,{staticPosition:n});s[r?i:c==null?void 0:c.name]=a,o+=u}return[s,o]}function y0(e,{staticPosition:t}){const n=Ee(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ee(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=f0(Ie(o));return e.setPosition(t+32),[i,32]}function bt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(bt);const n=qs(e.type);return!!(n&&bt({...e,type:n[1]}))}function g0(e){const{abi:t,data:n}=e,r=lt(n,0,4);if(r==="0x")throw new wt;const o=[...t||[],uo,o0].find(i=>i.type==="error"&&r===er(Ve(i)));if(!o)throw new Ws(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?xt(o.inputs,lt(n,4)):void 0,errorName:o.name}}function lo({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?ge(t[o]):t[o]}`).join(", ")})`}function sr(e,t="wei"){return Li(e,Mi[t])}class w0 extends L{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class v0 extends L{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function us(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function x0(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=us(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=us(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Pt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class P0 extends L{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class E0 extends L{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Pt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class B0 extends L{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class I0 extends L{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:c,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var p;const h=Pt({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${sr(l)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof c<"u"&&`${me(c)} gwei`,maxFeePerGas:typeof a<"u"&&`${me(a)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${me(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class bo extends L{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class ho extends L{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class A0 extends L{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class $0 extends L{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class po extends L{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:c,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:h}){var g;const p=n?te(n):void 0;let b=Pt({from:p==null?void 0:p.address,to:d,value:typeof l<"u"&&`${sr(l)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof c<"u"&&`${me(c)} gwei`,maxFeePerGas:typeof a<"u"&&`${me(a)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${me(u)} gwei`,nonce:f});h&&(b+=`
${x0(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class mo extends L{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:c}){const a=tt({abi:n,args:r,name:i}),u=a?lo({abiItem:a,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=a?Ve(a,{includeName:!0}):void 0,d=Pt({address:s&&Gi(s),function:f,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:c});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=c}}class On extends L{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,c,a;if(n&&n!=="0x")try{i=g0({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")a=l[0];else if(d==="Panic"){const[h]=l;a=s0[h]}else{const h=f?Ve(f,{includeName:!0}):void 0,p=f&&l?lo({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;c=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(f){o=f}else s&&(a=s);let u;o instanceof Ws&&(u=o.signature,c=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(a&&a!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,a||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=a,this.signature=u}}class S0 extends L{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class T0 extends L{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Dt extends L{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const N0=3;function et(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const c=e instanceof Dt?e:e instanceof L?e.walk(p=>"data"in p)||e.walk():{},{code:a,data:u,details:f,message:d,shortMessage:l}=c,h=e instanceof wt?new S0({functionName:o}):[N0,Ui.code].includes(a)&&(u||f||d||l)||a===Xn.code&&f==="execution reverted"&&u?new On({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:c instanceof ji?f:l??d}):e;return new mo(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function k0(e){const t=Le(`0x${e.substring(4)}`).substring(26);return Zs(`0x${t}`)}async function F0({hash:e,signature:t}){const n=dt(e)?e:_e(e),{secp256k1:r}=await Os(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>Wf);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),p=fs(h);return new r.Signature(ce(u),ce(f)).addRecoveryBit(p)}const i=dt(t)?t:_e(t);if(ke(i)!==65)throw new Error("invalid signature length");const c=oe(`0x${i.slice(130)}`),a=fs(c);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(a)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function fs(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function yo({hash:e,signature:t}){return k0(await F0({hash:e,signature:t}))}function Me(e,t="hex"){const n=go(e),r=rr(new Uint8Array(n.length));return n.encode(r),t==="hex"?q(r.bytes):r.bytes}function go(e){return Array.isArray(e)?C0(e.map(t=>go(t))):z0(e)}function C0(e){const t=e.reduce((s,o)=>s+o.length,0),n=wo(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function z0(e){const t=typeof e=="string"?Ae(e):e,n=wo(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function wo(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new L("Length is too large.")}function R0(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=Le(be(["0x05",Me([t?N(t):"0x",s,n?N(n):"0x"])]));return r==="bytes"?Ae(o):o}async function vo(e){const{authorization:t,signature:n}=e;return yo({hash:R0(t),signature:n??t})}class O0 extends L{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:c,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var p;const h=Pt({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${sr(l)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof c<"u"&&`${me(c)} gwei`,maxFeePerGas:typeof a<"u"&&`${me(a)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${me(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Ht(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof L?e.walk(s=>(s==null?void 0:s.code)===Tt.code):e;return r instanceof L?new Tt({cause:e,message:r.details}):Tt.nodeMessage.test(n)?new Tt({cause:e,message:e.details}):Qe.nodeMessage.test(n)?new Qe({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Mr.nodeMessage.test(n)?new Mr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Gr.nodeMessage.test(n)?new Gr({cause:e,nonce:t==null?void 0:t.nonce}):Ur.nodeMessage.test(n)?new Ur({cause:e,nonce:t==null?void 0:t.nonce}):jr.nodeMessage.test(n)?new jr({cause:e,nonce:t==null?void 0:t.nonce}):Vr.nodeMessage.test(n)?new Vr({cause:e}):Dr.nodeMessage.test(n)?new Dr({cause:e,gas:t==null?void 0:t.gas}):Hr.nodeMessage.test(n)?new Hr({cause:e,gas:t==null?void 0:t.gas}):qr.nodeMessage.test(n)?new qr({cause:e}):Ft.nodeMessage.test(n)?new Ft({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new yt({cause:e})}function _0(e,{docsPath:t,...n}){const r=(()=>{const s=Ht(e,n);return s instanceof yt?e:s})();return new O0(r,{docsPath:t,...n})}function qt(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const c of i)c in e&&(n[c]=e[c]),o[c]&&typeof o[c]=="object"&&!Array.isArray(o[c])&&r(o[c])}const s=t(e||{});return r(s),n}function or(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,o)=>{const i=t(s,o);if(n)for(const c of n)delete i[c];return{...i,...r(s,o)}},type:e})}const L0={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Et(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=M0(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>q(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=N(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=N(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=N(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=N(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=N(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=N(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=L0[e.type]),typeof e.value<"u"&&(n.value=N(e.value)),n}function M0(e){return e.map(t=>({address:t.address,r:t.r?N(BigInt(t.r)):t.r,s:t.s?N(BigInt(t.s)):t.s,chainId:N(t.chainId),nonce:N(t.nonce),...typeof t.yParity<"u"?{yParity:N(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:N(t.v)}:{}}))}function ds(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Zr({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Zr({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function G0(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=N(t)),n!==void 0&&(i.nonce=N(n)),r!==void 0&&(i.state=ds(r)),s!==void 0){if(i.state)throw new v0;i.stateDiff=ds(s)}return i}function ir(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ie(n,{strict:!1}))throw new ue({address:n});if(t[n])throw new w0({address:n});t[n]=G0(r)}return t}const Zt=2n**256n-1n;function rt(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,o=t?te(t):void 0;if(o&&!ie(o.address))throw new ue({address:o.address});if(s&&!ie(s))throw new ue({address:s});if(n&&n>Zt)throw new Qe({maxFeePerGas:n});if(r&&n&&r>n)throw new Ft({maxFeePerGas:n,maxPriorityFeePerGas:r})}class xo extends L{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class ar extends L{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class U0 extends L{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${me(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Po extends L{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Eo={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Wt(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?oe(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?oe(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Eo[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=j0(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const Qd=or("transaction",Wt);function j0(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function cr(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Wt(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const el=or("block",cr);async function ae(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,d;const o=s??!1,i=n!==void 0?N(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!c)throw new Po({blockHash:t,blockNumber:n});return(((d=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:d.format)||cr)(c,"getBlock")}async function ur(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function V0(e,t){return Bo(e,t)}async function Bo(e,t){var o,i;const{block:n,chain:r=e.chain,request:s}=t||{};try{const c=((o=r==null?void 0:r.fees)==null?void 0:o.maxPriorityFeePerGas)??((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee);if(typeof c=="function"){const u=n||await _(e,ae,"getBlock")({}),f=await c({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof c<"u")return c;const a=await e.request({method:"eth_maxPriorityFeePerGas"});return ce(a)}catch{const[c,a]=await Promise.all([n?Promise.resolve(n):_(e,ae,"getBlock")({}),_(e,ur,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new ar;const u=a-c.baseFeePerGas;return u<0n?0n:u}}async function D0(e,t){return _n(e,t)}async function _n(e,t){var l,h;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>{var p,b;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(i<1)throw new xo;const a=10**(((l=i.toString().split(".")[1])==null?void 0:l.length)??0),u=p=>p*BigInt(Math.ceil(i*a))/BigInt(a),f=n||await _(e,ae,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(p!==null)return p}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new ar;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Bo(e,{block:f,chain:r,request:s}),b=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await _(e,ur,"getGasPrice")({}))}}async function Io(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?N(r):n]},{dedupe:!!r});return oe(s)}function fr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Ae(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>q(o))}function dr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Ae(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Ae(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const c=r[i],a=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(c,a)))}return n==="bytes"?o:o.map(i=>q(i))}const H0=_s;function q0(e,t){return H0(dt(e,{strict:!1})?Gt(e):e)}function Z0(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=q0(t);return s.set([n],0),r==="bytes"?s:q(s)}function Ao(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(Z0({commitment:o,to:r,version:n}));return s}const ls=6,$o=32,lr=4096,So=$o*lr,bs=So*ls-1-1*lr*ls,To=1;class W0 extends L{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class No extends L{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class K0 extends L{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Y0 extends L{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${To}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function J0(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Ae(e.data):e.data,r=ke(n);if(!r)throw new No;if(r>bs)throw new W0({maxSize:bs,size:r});const s=[];let o=!0,i=0;for(;o;){const c=rr(new Uint8Array(So));let a=0;for(;a<lr;){const u=n.slice(i,i+($o-1));if(c.pushByte(0),c.pushBytes(u),u.length<31){c.pushByte(128),o=!1;break}a++,i+=31}s.push(c)}return t==="bytes"?s.map(c=>c.bytes):s.map(c=>q(c.bytes))}function ko(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??J0({data:t,to:r}),o=e.commitments??fr({blobs:s,kzg:n,to:r}),i=e.proofs??dr({blobs:s,commitments:o,kzg:n,to:r}),c=[];for(let a=0;a<s.length;a++)c.push({blob:s[a],commitment:o[a],proof:i[a]});return c}function Fo(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new E0({transaction:e})}function X0(e,{docsPath:t,...n}){const r=(()=>{const s=Ht(e,n);return s instanceof yt?e:s})();return new I0(r,{docsPath:t,...n})}async function br(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return oe(t)}async function Co(e,t){var E,T,R,S,F;const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:c,data:a,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:p,nonceManager:b,to:g,type:x,value:B,...y}=t,m=await(async()=>{if(!n||!b||typeof p<"u")return p;const k=te(n),U=o?o.id:await _(e,br,"getChainId")({});return await b.consume({address:k.address,chainId:U,client:e})})();rt(t);const v=(T=(E=o==null?void 0:o.formatters)==null?void 0:E.transactionRequest)==null?void 0:T.format,P=(v||Et)({...qt(y,{format:v}),account:n?te(n):void 0,accessList:r,authorizationList:s,blobs:c,blobVersionedHashes:i,data:a,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:m,to:g,type:x,value:B},"fillTransaction");try{const k=await e.request({method:"eth_fillTransaction",params:[P]}),w=(((S=(R=o==null?void 0:o.formatters)==null?void 0:R.transaction)==null?void 0:S.format)||Wt)(k.tx);delete w.blockHash,delete w.blockNumber,delete w.r,delete w.s,delete w.transactionIndex,delete w.v,delete w.yParity,w.data=w.input,w.gas&&(w.gas=t.gas??w.gas),w.gasPrice&&(w.gasPrice=t.gasPrice??w.gasPrice),w.maxFeePerBlobGas&&(w.maxFeePerBlobGas=t.maxFeePerBlobGas??w.maxFeePerBlobGas),w.maxFeePerGas&&(w.maxFeePerGas=t.maxFeePerGas??w.maxFeePerGas),w.maxPriorityFeePerGas&&(w.maxPriorityFeePerGas=t.maxPriorityFeePerGas??w.maxPriorityFeePerGas),w.nonce&&(w.nonce=t.nonce??w.nonce);const $=await(async()=>{var O,G;if(typeof((O=o==null?void 0:o.fees)==null?void 0:O.baseFeeMultiplier)=="function"){const j=await _(e,ae,"getBlock")({});return o.fees.baseFeeMultiplier({block:j,client:e,request:t})}return((G=o==null?void 0:o.fees)==null?void 0:G.baseFeeMultiplier)??1.2})();if($<1)throw new xo;const A=10**(((F=$.toString().split(".")[1])==null?void 0:F.length)??0),C=O=>O*BigInt(Math.ceil($*A))/BigInt(A);return w.maxFeePerGas&&!t.maxFeePerGas&&(w.maxFeePerGas=C(w.maxFeePerGas)),w.gasPrice&&!t.gasPrice&&(w.gasPrice=C(w.gasPrice)),{raw:k.raw,transaction:{from:P.from,...w}}}catch(k){throw X0(k,{...t,chain:e.chain})}}const Q0=["blobVersionedHashes","chainId","fees","gas","nonce","type"],hs=new Map,bn=new Ls(128);async function zo(e,t){var m,v,I;let n=t;n.account??(n.account=e.account),n.parameters??(n.parameters=Q0);const{account:r,chain:s=e.chain,nonceManager:o,parameters:i}=n,c=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let a;async function u(){return a||(typeof n.chainId<"u"?n.chainId:s?s.id:(a=await _(e,br,"getChainId")({}),a))}const f=r&&te(r);let d=n.nonce;if(i.includes("nonce")&&typeof d>"u"&&f&&o){const P=await u();d=await o.consume({address:f.address,chainId:P,client:e})}c!=null&&c.fn&&((m=c.runAt)!=null&&m.includes("beforeFillTransaction"))&&(n=await c.fn({...n,chain:s},{phase:"beforeFillTransaction"}),d??(d=n.nonce));const h=((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&n.kzg&&n.blobs||bn.get(e.uid)===!1||!["fees","gas"].some(E=>i.includes(E))?!1:!!(i.includes("chainId")&&typeof n.chainId!="number"||i.includes("nonce")&&typeof d!="number"||i.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||i.includes("gas")&&typeof n.gas!="bigint"))?await _(e,Co,"fillTransaction")({...n,nonce:d}).then(P=>{const{chainId:E,from:T,gas:R,gasPrice:S,nonce:F,maxFeePerBlobGas:k,maxFeePerGas:U,maxPriorityFeePerGas:w,type:$,...z}=P.transaction;return bn.set(e.uid,!0),{...n,...T?{from:T}:{},...$?{type:$}:{},...typeof E<"u"?{chainId:E}:{},...typeof R<"u"?{gas:R}:{},...typeof S<"u"?{gasPrice:S}:{},...typeof F<"u"?{nonce:F}:{},...typeof k<"u"?{maxFeePerBlobGas:k}:{},...typeof U<"u"?{maxFeePerGas:U}:{},...typeof w<"u"?{maxPriorityFeePerGas:w}:{},..."nonceKey"in z&&typeof z.nonceKey<"u"?{nonceKey:z.nonceKey}:{}}}).catch(P=>{var R;const E=P;return E.name!=="TransactionExecutionError"||((R=E.walk)==null?void 0:R.call(E,S=>{const F=S;return F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"}))&&bn.set(e.uid,!1),n}):n;d??(d=h.nonce),n={...h,...f?{from:f==null?void 0:f.address}:{},...d?{nonce:d}:{}};const{blobs:p,gas:b,kzg:g,type:x}=n;c!=null&&c.fn&&((v=c.runAt)!=null&&v.includes("beforeFillParameters"))&&(n=await c.fn({...n,chain:s},{phase:"beforeFillParameters"}));let B;async function y(){return B||(B=await _(e,ae,"getBlock")({blockTag:"latest"}),B)}if(i.includes("nonce")&&typeof d>"u"&&f&&!o&&(n.nonce=await _(e,Io,"getTransactionCount")({address:f.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&p&&g){const P=fr({blobs:p,kzg:g});if(i.includes("blobVersionedHashes")){const E=Ao({commitments:P,to:"hex"});n.blobVersionedHashes=E}if(i.includes("sidecars")){const E=dr({blobs:p,commitments:P,kzg:g}),T=ko({blobs:p,commitments:P,proofs:E,to:"hex"});n.sidecars=T}}if(i.includes("chainId")&&(n.chainId=await u()),(i.includes("fees")||i.includes("type"))&&typeof x>"u")try{n.type=Fo(n)}catch{let P=hs.get(e.uid);if(typeof P>"u"){const E=await y();P=typeof(E==null?void 0:E.baseFeePerGas)=="bigint",hs.set(e.uid,P)}n.type=P?"eip1559":"legacy"}if(i.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const P=await y(),{maxFeePerGas:E,maxPriorityFeePerGas:T}=await _n(e,{block:P,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<T)throw new U0({maxPriorityFeePerGas:T});n.maxPriorityFeePerGas=T,n.maxFeePerGas=E}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new ar;if(typeof n.gasPrice>"u"){const P=await y(),{gasPrice:E}=await _n(e,{block:P,chain:s,request:n,type:"legacy"});n.gasPrice=E}}return i.includes("gas")&&typeof b>"u"&&(n.gas=await _(e,hr,"estimateGas")({...n,account:f,prepare:(f==null?void 0:f.type)==="local"?[]:["blobVersionedHashes"]})),c!=null&&c.fn&&((I=c.runAt)!=null&&I.includes("afterFillParameters"))&&(n=await c.fn({...n,chain:s},{phase:"afterFillParameters"})),rt(n),delete n.parameters,n}async function hr(e,t){var i,c,a;const{account:n=e.account,prepare:r=!0}=t,s=n?te(n):void 0,o=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await vo({authorization:t.authorizationList[0]}).catch(()=>{throw new L("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:f,authorizationList:d,blobs:l,blobVersionedHashes:h,blockNumber:p,blockTag:b,data:g,gas:x,gasPrice:B,maxFeePerBlobGas:y,maxFeePerGas:m,maxPriorityFeePerGas:v,nonce:I,value:P,stateOverride:E,...T}=r?await zo(e,{...t,parameters:o,to:u}):t;if(x&&t.gas!==x)return x;const S=(typeof p=="bigint"?N(p):void 0)||b,F=ir(E);rt(t);const k=(a=(c=(i=e.chain)==null?void 0:i.formatters)==null?void 0:c.transactionRequest)==null?void 0:a.format,w=(k||Et)({...qt(T,{format:k}),account:s,accessList:f,authorizationList:d,blobs:l,blobVersionedHashes:h,data:g,gasPrice:B,maxFeePerBlobGas:y,maxFeePerGas:m,maxPriorityFeePerGas:v,nonce:I,to:u,value:P},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:F?[w,S??e.experimental_blockTag??"latest",F]:S?[w,S]:[w]}))}catch(u){throw _0(u,{...t,account:s,chain:e.chain})}}async function ec(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...c}=t,a=he({abi:n,args:s,functionName:o});try{return await _(e,hr,"estimateGas")({data:`${a}${i?i.replace("0x",""):""}`,to:r,...c})}catch(u){const f=c.account?te(c.account):void 0;throw et(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f==null?void 0:f.address})}}function Kt(e,t){if(!ie(e,{strict:!1}))throw new ue({address:e});if(!ie(t,{strict:!1}))throw new ue({address:t});return e.toLowerCase()===t.toLowerCase()}const ps="/docs/contract/decodeEventLog";function Ot(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...c]=s;if(!i)throw new na({docsPath:ps});const a=t.find(b=>b.type==="event"&&i===Qn(Ve(b)));if(!(a&&"name"in a)||a.type!=="event")throw new ra(i,{docsPath:ps});const{name:u,inputs:f}=a,d=f==null?void 0:f.some(b=>!("name"in b&&b.name)),l=d?[]:{},h=f.map((b,g)=>[b,g]).filter(([b])=>"indexed"in b&&b.indexed);for(let b=0;b<h.length;b++){const[g,x]=h[b],B=c[b];if(!B)throw new tr({abiItem:a,param:g});l[d?x:g.name||x]=tc({param:g,value:B})}const p=f.filter(b=>!("indexed"in b&&b.indexed));if(p.length>0){if(n&&n!=="0x")try{const b=xt(p,n);if(b)if(d)for(let g=0;g<f.length;g++)l[g]=l[g]??b.shift();else for(let g=0;g<p.length;g++)l[p[g].name]=b[g]}catch(b){if(o)throw b instanceof Hs||b instanceof fo?new zt({abiItem:a,data:n,params:p,size:ke(n)}):b}else if(o)throw new zt({abiItem:a,data:"0x",params:p,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function tc({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(xt([e],t)||[])[0]}function pr(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{var f;const c=t.filter(d=>d.type==="event"&&i.topics[0]===Qn(d));if(c.length===0)return null;let a,u;for(const d of c)try{a=Ot({...i,abi:[d],strict:!0}),u=d;break}catch{}if(!a&&!s){u=c[0];try{a=Ot({...i,abi:[u],strict:!1})}catch{const d=(f=u.inputs)==null?void 0:f.some(l=>!("name"in l&&l.name));return{...i,args:d?[]:{},eventName:u.name}}}return!a||!u||o&&!o.includes(a.eventName)||!nc({args:a.args,inputs:u.inputs,matchArgs:n})?null:{...a,...i}}).filter(Boolean)}function nc(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,c){try{return o.type==="address"?Kt(i,c):o.type==="string"||o.type==="bytes"?Le(Gt(i))===c:i===c}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const c=n[i];return c?(Array.isArray(o)?o:[o]).some(u=>s(c,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const c=n.find(u=>u.name===o);return c?(Array.isArray(i)?i:[i]).some(u=>s(c,u,t[o])):!1}):!1}function Se(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function mr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:c,strict:a}={}){const u=a??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(b=>vt({abi:[b],eventName:b.name,args:i?void 0:c}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?N(r):r,toBlock:typeof s=="bigint"?N(s):s}]});const h=l.map(p=>Se(p));return f?pr({abi:f,args:c,logs:h,strict:u}):h}async function Ro(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:c,toBlock:a,strict:u}=t,f=i?tt({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return _(e,mr,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:c,toBlock:a,strict:u})}const hn="/docs/contract/decodeFunctionResult";function De(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const c=tt({abi:t,args:n,name:r});if(!c)throw new Rt(r,{docsPath:hn});o=c}if(o.type!=="function")throw new Rt(void 0,{docsPath:hn});if(!o.outputs)throw new Ks(o.name,{docsPath:hn});const i=xt(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yr=BigInt(0),Ln=BigInt(1);function Bt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function gr(e){if(!Bt(e))throw new Error("Uint8Array expected")}function ht(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Nt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Oo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?yr:BigInt("0x"+e)}const _o=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",rc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function pt(e){if(gr(e),_o)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=rc[e[n]];return t}const we={_0:48,_9:57,A:65,F:70,a:97,f:102};function ms(e){if(e>=we._0&&e<=we._9)return e-we._0;if(e>=we.A&&e<=we.F)return e-(we.A-10);if(e>=we.a&&e<=we.f)return e-(we.a-10)}function _t(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(_o)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=ms(e.charCodeAt(o)),c=ms(e.charCodeAt(o+1));if(i===void 0||c===void 0){const a=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+o)}r[s]=i*16+c}return r}function Oe(e){return Oo(pt(e))}function Lo(e){return gr(e),Oo(pt(Uint8Array.from(e).reverse()))}function It(e,t){return _t(e.toString(16).padStart(t*2,"0"))}function Mo(e,t){return It(e,t).reverse()}function se(e,t,n){let r;if(typeof t=="string")try{r=_t(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Bt(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Lt(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];gr(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const pn=e=>typeof e=="bigint"&&yr<=e;function wr(e,t,n){return pn(e)&&pn(t)&&pn(n)&&t<=e&&e<n}function Je(e,t,n,r){if(!wr(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function sc(e){let t;for(t=0;e>yr;e>>=Ln,t+=1);return t}const Yt=e=>(Ln<<BigInt(e))-Ln,mn=e=>new Uint8Array(e),ys=e=>Uint8Array.from(e);function oc(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=mn(e),s=mn(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},c=(...d)=>n(s,r,...d),a=(d=mn(0))=>{s=c(ys([0]),d),r=c(),d.length!==0&&(s=c(ys([1]),d),r=c())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=c();const h=r.slice();l.push(h),d+=r.length}return Lt(...l)};return(d,l)=>{i(),a(d);let h;for(;!(h=l(u()));)a();return i(),h}}const ic={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Bt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Jt(e,t,n={}){const r=(s,o,i)=>{const c=ic[o];if(typeof c!="function")throw new Error("invalid validator function");const a=e[s];if(!(i&&a===void 0)&&!c(a,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+a)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function gs(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const ac="0.1.1";function cc(){return ac}class M extends Error{static setStaticOptions(t){M.prototype.docsOrigin=t.docsOrigin,M.prototype.showVersion=t.showVersion,M.prototype.version=t.version}constructor(t,n={}){const r=(()=>{var f;if(n.cause instanceof M){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(f=n.cause)!=null&&f.message?n.cause.message:n.details})(),s=n.cause instanceof M&&n.cause.docsPath||n.docsPath,o=n.docsOrigin??M.prototype.docsOrigin,i=`${o}${s??""}`,c=!!(n.version??M.prototype.showVersion),a=n.version??M.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||c?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0,c?`Version: ${a}`:void 0]:[]].filter(f=>typeof f=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=i,this.docsOrigin=o,this.docsPath=s,this.shortMessage=t,this.showVersion=c,this.version=a}walk(t){return Go(this,t)}}Object.defineProperty(M,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${cc()}`}});M.setStaticOptions(M.defaultStaticOptions);function Go(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Go(e.cause,t):t?null:e}function At(e,t){if(We(e)>t)throw new Ic({givenSize:We(e),maxSize:t})}const ve={zero:48,nine:57,A:65,F:70,a:97,f:102};function ws(e){if(e>=ve.zero&&e<=ve.nine)return e-ve.zero;if(e>=ve.A&&e<=ve.F)return e-(ve.A-10);if(e>=ve.a&&e<=ve.f)return e-(ve.a-10)}function uc(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Ac({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function Uo(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Xt(e,t){if(ne(e)>t)throw new Fc({givenSize:ne(e),maxSize:t})}function fc(e,t){if(typeof t=="number"&&t>0&&t>ne(e)-1)throw new Yo({offset:t,position:"start",size:ne(e)})}function dc(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ne(e)!==n-t)throw new Yo({offset:n,position:"end",size:ne(e)})}function jo(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Cc({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const lc="#__bigint";function Vo(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+lc:s,n)}const bc=new TextDecoder,hc=new TextEncoder;function pc(e){return e instanceof Uint8Array?e:typeof e=="string"?Do(e):mc(e)}function mc(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Do(e,t={}){const{size:n}=t;let r=e;n&&(Xt(e,n),r=Ue(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let c=0,a=0;c<o;c++){const u=ws(s.charCodeAt(a++)),f=ws(s.charCodeAt(a++));if(u===void 0||f===void 0)throw new M(`Invalid byte sequence ("${s[a-2]}${s[a-1]}" in "${s}").`);i[c]=u<<4|f}return i}function yc(e,t={}){const{size:n}=t,r=hc.encode(e);return typeof n=="number"?(At(r,n),gc(r,n)):r}function gc(e,t){return uc(e,{dir:"right",size:t})}function We(e){return e.length}function wc(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function vc(e,t={}){const{size:n}=t;typeof n<"u"&&At(e,n);const r=de(e,t);return Zo(r,t)}function xc(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(At(r,n),r=Ho(r)),r.length>1||r[0]>1)throw new Bc(r);return!!r[0]}function Be(e,t={}){const{size:n}=t;typeof n<"u"&&At(e,n);const r=de(e,t);return Wo(r,t)}function Pc(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(At(r,n),r=Ec(r)),bc.decode(r)}function Ho(e){return Uo(e,{dir:"left"})}function Ec(e){return Uo(e,{dir:"right"})}class Bc extends M{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Ic=class extends M{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Ac=class extends M{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const $c=new TextEncoder,Sc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Tc(e,t={}){const{strict:n=!1}=t;if(!e)throw new vs(e);if(typeof e!="string")throw new vs(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new xs(e);if(!e.startsWith("0x"))throw new xs(e)}function fe(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Nc(e){return e instanceof Uint8Array?de(e):Array.isArray(e)?de(new Uint8Array(e)):e}function qo(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Xt(n,t.size),Ge(n,t.size)):n}function de(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Sc[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Xt(r,t.size),Ue(r,t.size)):r}function K(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new Ko({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const a=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?Ge(a,r):a}function vr(e,t={}){return de($c.encode(e),t)}function Ge(e,t){return jo(e,{dir:"left",size:t})}function Ue(e,t){return jo(e,{dir:"right",size:t})}function ye(e,t,n,r={}){const{strict:s}=r;fc(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&dc(o,t,n),o}function ne(e){return Math.ceil((e.length-2)/2)}function Zo(e,t={}){const{signed:n}=t;t.size&&Xt(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function Wo(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Zo(e,t))}function kc(e,t={}){const{strict:n=!1}=t;try{return Tc(e,{strict:n}),!0}catch{return!1}}class Ko extends M{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class vs extends M{constructor(t){super(`Value \`${typeof t=="object"?Vo(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class xs extends M{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Fc extends M{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Yo extends M{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Cc extends M{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function zc(e){return{address:e.address,amount:K(e.amount),index:K(e.index),validatorIndex:K(e.validatorIndex)}}function Jo(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:K(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:K(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:K(e.gasLimit)},...typeof e.number=="bigint"&&{number:K(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:K(e.prevRandao)},...typeof e.time=="bigint"&&{time:K(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(zc)}}}const Rc="0x82ad56cb",Xo="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Oc="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",_c="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",xr="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Mn extends L{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Qo extends L{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Qt extends L{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const yn="/docs/contract/encodeDeployData";function Pr(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new sa({docsPath:yn});if(!("inputs"in s))throw new Qr({docsPath:yn});if(!s.inputs||s.inputs.length===0)throw new Qr({docsPath:yn});const o=gt(s.inputs,n);return be([r,o])}function st({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Mn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Mn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ei(e,{docsPath:t,...n}){const r=(()=>{const s=Ht(e,n);return s instanceof yt?e:s})();return new po(r,{docsPath:t,...n})}async function en(e,t){var k,U,w,$;const{account:n=e.account,authorizationList:r,batch:s=!!((k=e.batch)!=null&&k.multicall),blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:c,blobs:a,blockOverrides:u,code:f,data:d,factory:l,factoryData:h,gas:p,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:x,maxPriorityFeePerGas:B,nonce:y,to:m,value:v,stateOverride:I,...P}=t,E=n?te(n):void 0;if(f&&(l||h))throw new L("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&m)throw new L("Cannot provide both `code` & `to` as parameters.");const T=f&&d,R=l&&h&&m&&d,S=T||R,F=T?ti({code:f,data:d}):R?Gc({data:d,factory:l,factoryData:h,to:m}):d;try{rt(t);const A=(typeof o=="bigint"?N(o):void 0)||i,C=u?Jo(u):void 0,O=ir(I),G=($=(w=(U=e.chain)==null?void 0:U.formatters)==null?void 0:w.transactionRequest)==null?void 0:$.format,H=(G||Et)({...qt(P,{format:G}),accessList:c,account:E,authorizationList:r,blobs:a,data:F,gas:p,gasPrice:b,maxFeePerBlobGas:g,maxFeePerGas:x,maxPriorityFeePerGas:B,nonce:y,to:S?void 0:m,value:v},"call");if(s&&Lc({request:H})&&!O&&!C)try{return await Mc(e,{...H,blockNumber:o,blockTag:i})}catch(W){if(!(W instanceof Qo)&&!(W instanceof Mn))throw W}const Z=(()=>{const W=[H,A];return O&&C?[...W,O,C]:O?[...W,O]:C?[...W,{},C]:W})(),V=await e.request({method:"eth_call",params:Z});return V==="0x"?{data:void 0}:{data:V}}catch(z){const A=Uc(z),{offchainLookup:C,offchainLookupSignature:O}=await Os(async()=>{const{offchainLookup:G,offchainLookupSignature:j}=await import("./index-B0YCh9hZ.js").then(H=>H.c);return{offchainLookup:G,offchainLookupSignature:j}},__vite__mapDeps([0,1,2,3]));if(e.ccipRead!==!1&&(A==null?void 0:A.slice(0,10))===O&&m)return{data:await C(e,{data:A,to:m})};throw S&&(A==null?void 0:A.slice(0,10))==="0x101bb98d"?new T0({factory:l}):ei(z,{...t,account:E,chain:e.chain})}}function Lc({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Rc)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Mc(e,t){var b;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((b=e.batch)==null?void 0:b.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:c,to:a}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return st({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Qo})(),d=(typeof o=="bigint"?N(o):void 0)||i,{schedule:l}=Vi({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(g){return g.reduce((B,{data:y})=>B+(y.length-2),0)>n*2},fn:async g=>{const x=g.map(m=>({allowFailure:!0,callData:m.data,target:m.to})),B=he({abi:Ct,args:[x],functionName:"aggregate3"}),y=await e.request({method:"eth_call",params:[{...u===null?{data:ti({code:xr,data:B})}:{to:u,data:B}},d]});return De({abi:Ct,args:[x],functionName:"aggregate3",data:y||"0x"})}}),[{returnData:h,success:p}]=await l({data:c,to:a});if(!p)throw new Dt({data:h});return h==="0x"?{data:void 0}:{data:h}}function ti(e){const{code:t,data:n}=e;return Pr({abi:ao(["constructor(bytes, bytes)"]),bytecode:Xo,args:[t,n]})}function Gc(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Pr({abi:ao(["constructor(address, bytes, address, bytes)"]),bytecode:Oc,args:[s,t,n,r]})}function Uc(e){var n;if(!(e instanceof L))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function le(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,c=he({abi:n,args:s,functionName:o});try{const{data:a}=await _(e,en,"call")({...i,data:c,to:r});return De({abi:n,args:s,functionName:o,data:a||"0x"})}catch(a){throw et(a,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function jc(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...c}=t,a=c.account?te(c.account):e.account,u=he({abi:n,args:s,functionName:i});try{const{data:f}=await _(e,en,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...c,account:a}),d=De({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...c,account:a}}}catch(f){throw et(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:a==null?void 0:a.address})}}const gn=new Map,Ps=new Map;let Vc=0;function Te(e,t,n){const r=++Vc,s=()=>gn.get(e)||[],o=()=>{const f=s();gn.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=Ps.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},c=s();if(gn.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return i;const a={};for(const f in t)a[f]=((...d)=>{var h,p;const l=s();if(l.length!==0)for(const b of l)(p=(h=b.fns)[f])==null||p.call(h,...d)});const u=n(a);return typeof u=="function"&&Ps.set(e,u),i}function ot(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:o}));const a=await(n==null?void 0:n(c))??r;await Wr(a);const u=async()=>{s&&(await e({unpoll:o}),await Wr(r),u())};u()})(),o}const Dc=new Map,Hc=new Map;function qc(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Dc),r=t(e,Hc);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Zc(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=qc(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const Wc=e=>`blockNumber.${e}`;async function $t(e,{cacheTime:t=e.cacheTime}={}){const n=await Zc(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Wc(e.uid),cacheTime:t});return BigInt(n)}async function tn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Se(o));return!("abi"in t)||!t.abi?s:pr({abi:t.abi,logs:s,strict:n})}async function nn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Kc(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:c,onError:a,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=l??!1,x=ge(["watchContractEvent",r,s,o,e.uid,i,d,g,c]);return Te(x,{onLogs:u,onError:a},B=>{let y;c!==void 0&&(y=c-1n);let m,v=!1;const I=ot(async()=>{var P;if(!v){try{m=await _(e,co,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:g,fromBlock:c})}catch{}v=!0;return}try{let E;if(m)E=await _(e,tn,"getFilterChanges")({filter:m});else{const T=await _(e,$t,"getBlockNumber")({});y&&y<T?E=await _(e,Ro,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:y+1n,toBlock:T,strict:g}):E=[],y=T}if(E.length===0)return;if(o)B.onLogs(E);else for(const T of E)B.onLogs([T])}catch(E){m&&E instanceof Xn&&(v=!1),(P=B.onError)==null||P.call(B,E)}},{emitOnBegin:!0,interval:d});return async()=>{m&&await _(e,nn,"uninstallFilter")({filter:m}),I()}})})():(()=>{const g=l??!1,x=ge(["watchContractEvent",r,s,o,e.uid,i,d,g]);let B=!0,y=()=>B=!1;return Te(x,{onLogs:u,onError:a},m=>((async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),I=i?vt({abi:n,eventName:i,args:s}):[],{unsubscribe:P}=await v.subscribe({params:["logs",{address:r,topics:I}],onData(E){var R;if(!B)return;const T=E.result;try{const{eventName:S,args:F}=Ot({abi:n,data:T.data,topics:T.topics,strict:l}),k=Se(T,{args:F,eventName:S});m.onLogs([k])}catch(S){let F,k;if(S instanceof zt||S instanceof tr){if(l)return;F=S.abiItem.name,k=(R=S.abiItem.inputs)==null?void 0:R.some(w=>!("name"in w&&w.name))}const U=Se(T,{args:k?[]:{},eventName:F});m.onLogs([U])}},onError(E){var T;(T=m.onError)==null||T.call(m,E)}});y=P,B||y()}catch(v){a==null||a(v)}})(),()=>y()))})()}async function Yc(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}class Jc extends L{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}const ni={"0x0":"reverted","0x1":"success"};function Er(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Se(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?oe(e.transactionIndex):null,status:e.status?ni[e.status]:null,type:e.type?Eo[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const rl=or("transactionReceipt",Er),Xc="0x5792579257925792579257925792579257925792579257925792579257925792",Qc=N(0,{size:32});async function eu(e,t){async function n(f){if(f.endsWith(Xc.slice(2))){const l=Ie(es(f,-64,-32)),h=es(f,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(g=>Qc.slice(2)!==g?e.request({method:"eth_getTransactionReceipt",params:[`0x${g}`]},{dedupe:!0}):void 0)),b=p.some(g=>g===null)?100:p.every(g=>(g==null?void 0:g.status)==="0x1")?200:p.every(g=>(g==null?void 0:g.status)==="0x0")?500:600;return{atomic:!1,chainId:oe(l),receipts:p.filter(Boolean),status:b,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:o,version:i="2.0.0",...c}=await n(t.id),[a,u]=(()=>{const f=c.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...c,atomic:r,chainId:s?oe(s):void 0,receipts:(o==null?void 0:o.map(f=>({...f,blockNumber:ce(f.blockNumber),gasUsed:ce(f.gasUsed),status:ni[f.status]})))??[],statusCode:u,status:a,version:i}}async function sl(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:b})=>b===200||b>=300,retryCount:o=4,retryDelay:i=({count:b})=>~~(1<<b)*200,timeout:c=6e4,throwOnFailure:a=!1}=t,u=ge(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:d,reject:l}=Ms();let h;const p=Te(u,{resolve:d,reject:l},b=>{const g=ot(async()=>{const x=B=>{clearTimeout(h),g(),B(),p()};try{const B=await Tn(async()=>{const y=await _(e,eu,"getCallsStatus")({id:n});if(a&&y.status==="failure")throw new Jc(y);return y},{retryCount:o,delay:i});if(!s(B))return;x(()=>b.resolve(B))}catch(B){x(()=>b.reject(B))}},{interval:r,emitOnBegin:!0});return g});return h=c?setTimeout(()=>{p(),clearTimeout(h),l(new tu({id:n}))},c):void 0,await f}class tu extends L{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function nu(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,c=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),a=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(a/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?te(e.account):void 0,{config:h,request:p,value:b}=e.transport({account:l,chain:n,pollingInterval:f}),g={...h,...b},x={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:o,pollingInterval:f,request:p,transport:g,type:i,uid:Di(),...c?{experimental_blockTag:c}:{}};function B(y){return m=>{const v=m(y);for(const P in x)delete v[P];const I={...y,...v};return Object.assign(I,{extend:B(I)})}}return Object.assign(x,{extend:B(x)})}function Br(e){var n,r,s,o,i,c;if(!(e instanceof L))return!1;const t=e.walk(a=>a instanceof On);return t instanceof On?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=t.data)==null?void 0:o.errorName)==="ResolverNotFound"||((i=t.data)==null?void 0:i.errorName)==="ReverseAddressMismatch"||((c=t.data)==null?void 0:c.errorName)==="UnsupportedResolverProfile":!1}function ru(e){const{abi:t,data:n}=e,r=lt(n,0,4),s=t.find(o=>o.type==="function"&&r===er(Ve(o)));if(!s)throw new oa(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?xt(s.inputs,lt(n,4)):void 0}}const wn="/docs/contract/encodeErrorResult";function Es(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const a=tt({abi:t,args:r,name:n});if(!a)throw new ts(n,{docsPath:wn});s=a}if(s.type!=="error")throw new ts(void 0,{docsPath:wn});const o=Ve(s),i=er(o);let c="0x";if(r&&r.length>0){if(!s.inputs)throw new ia(s.name,{docsPath:wn});c=gt(s.inputs,r)}return be([i,c])}const vn="/docs/contract/encodeFunctionResult";function su(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=tt({abi:t,name:n});if(!i)throw new Rt(n,{docsPath:vn});s=i}if(s.type!=="function")throw new Rt(void 0,{docsPath:vn});if(!s.outputs)throw new Ks(s.name,{docsPath:vn});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new aa(r)})();return gt(s.outputs,o)}const rn="x-batch-gateway:true";async function ou(e){const{data:t,ccipRequest:n}=e,{args:[r]}=ru({abi:Nn,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,c)=>{try{o[c]=i.urls.includes(rn)?await ou({data:i.data,ccipRequest:n}):await n(i),s[c]=!1}catch(a){s[c]=!0,o[c]=iu(a)}})),su({abi:Nn,functionName:"query",result:[s,o]})}function iu(e){return e.name==="HttpRequestError"&&e.status?Es({abi:Nn,errorName:"HttpError",args:[e.status,e.shortMessage]}):Es({abi:[uo],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function ri(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return dt(t)?t:null}function Gn(e){let t=new Uint8Array(32).fill(0);if(!e)return q(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=ri(n[r]),o=s?Gt(s):Le(ft(n[r]),"bytes");t=Le(Ys([t,o]),"bytes")}return q(t)}function au(e){return`[${e.slice(2)}]`}function cu(e){const t=new Uint8Array(32).fill(0);return e?ri(e)||Le(ft(e)):q(t)}function Ir(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(ft(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=ft(s[o]);i.byteLength>255&&(i=ft(au(cu(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function uu(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return st({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),f=a==null?void 0:a.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[Gn(o),BigInt(s)]:[Gn(o)];try{const l=he({abi:Kr,functionName:"addr",args:d}),h={address:u,abi:Gs,functionName:"resolveWithGateways",args:[_e(Ir(o)),l,i??[rn]],blockNumber:n,blockTag:r},b=await _(e,le,"readContract")(h);if(b[0]==="0x")return null;const g=De({abi:Kr,args:d,functionName:"addr",data:b[0]});return g==="0x"||Ie(g)==="0x00"?null:g}catch(l){if(c)throw l;if(Br(l))return null;throw l}}class fu extends L{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class ut extends L{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Ar extends L{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class du extends L{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const lu=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,bu=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,hu=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,pu=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function mu(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Bs(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function si({uri:e,gatewayUrls:t}){const n=hu.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Bs(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Bs(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(lu),{protocol:i,subpath:c,target:a,subtarget:u=""}=(o==null?void 0:o.groups)||{},f=i==="ipns:/"||c==="ipns/",d=i==="ipfs:/"||c==="ipfs/"||bu.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&a)return{uri:`${r}/${f?"ipns":"ipfs"}/${a}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&a)return{uri:`${s}/${a}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(pu,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Ar({uri:e})}function oi(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new fu({data:e});return e.image||e.image_url||e.image_data}async function yu({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await $r({gatewayUrls:e,uri:oi(n)})}catch{throw new Ar({uri:t})}}async function $r({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=si({uri:t,gatewayUrls:e});if(r||await mu(n))return n;throw new Ar({uri:t})}function gu(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[c,a]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new ut({reason:"Only EIP-155 supported"});if(!i)throw new ut({reason:"Chain ID not found"});if(!a)throw new ut({reason:"Contract address not found"});if(!s)throw new ut({reason:"Token ID not found"});if(!c)throw new ut({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:c.toLowerCase(),contractAddress:a,tokenID:s}}async function wu(e,{nft:t}){if(t.namespace==="erc721")return le(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return le(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new du({namespace:t.namespace})}async function vu(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?xu(e,{gatewayUrls:t,record:n}):$r({uri:n,gatewayUrls:t})}async function xu(e,{gatewayUrls:t,record:n}){const r=gu(n),s=await wu(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:c}=si({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=c?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return $r({uri:oi(f),gatewayUrls:t})}let a=r.tokenID;return r.namespace==="erc1155"&&(a=a.replace("0x","").padStart(64,"0")),yu({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,a)})}async function ii(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return st({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),f=a==null?void 0:a.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:Gs,args:[_e(Ir(o)),he({abi:Yr,functionName:"text",args:[Gn(o),s]}),i??[rn]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await _(e,le,"readContract")(d);if(h[0]==="0x")return null;const p=De({abi:Yr,functionName:"text",data:h[0]});return p===""?null:p}catch(d){if(c)throw d;if(Br(d))return null;throw d}}async function Pu(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:c}){const a=await _(e,ii,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:c,gatewayUrls:o,strict:i});if(!a)return null;try{return await vu(e,{record:a,gatewayUrls:r})}catch{return null}}async function Eu(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return st({blockNumber:r,chain:a,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:Hi,args:[n,o,i??[rn]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=_(e,le,"readContract"),[l]=await d(f);return l||null}catch(f){if(c)throw f;if(Br(f))return null;throw f}}async function Bu(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return st({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),c=o==null?void 0:o.ensTlds;if(c&&!c.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${c==null?void 0:c.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[a]=await _(e,le,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[_e(Ir(s))],blockNumber:n,blockTag:r});return a}async function ai(e,t){var g,x,B;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:c,gasPrice:a,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h,...p}=t,b=n?te(n):void 0;try{rt(t);const m=(typeof r=="bigint"?N(r):void 0)||s,v=(B=(x=(g=e.chain)==null?void 0:g.formatters)==null?void 0:x.transactionRequest)==null?void 0:B.format,P=(v||Et)({...qt(p,{format:v}),account:b,blobs:o,data:i,gas:c,gasPrice:a,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h},"createAccessList"),E=await e.request({method:"eth_createAccessList",params:[P,m]});return{accessList:E.accessList,gasUsed:BigInt(E.gasUsed)}}catch(y){throw ei(y,{...t,account:b,chain:e.chain})}}async function Iu(e){const t=Vt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function ci(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:c}={}){const a=s??(r?[r]:void 0),u=Vt(e,{method:"eth_newFilter"});let f=[];a&&(f=[a.flatMap(h=>vt({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?N(o):o,toBlock:typeof c=="bigint"?N(c):c,...f.length?{topics:f}:{}}]});return{abi:a,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:c,type:"event"}}async function ui(e){const t=Vt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Au(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?N(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function $u(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Su(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?N(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),oe(o)}async function Un(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?N(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class Tu extends L{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Nu(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,c,a,u,f,d]=await _(e,le,"readContract")({abi:ku,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:c,chainId:Number(a),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Tu({address:n}):i}}const ku=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Fu(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Cu(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?N(n):void 0,i=await e.request({method:"eth_feeHistory",params:[N(t),o||r,s]},{dedupe:!!o});return Fu(i)}async function zu(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Se(o));return t.abi?pr({abi:t.abi,logs:s,strict:n}):s}function ol(e,t){if(e.length!==t.length)throw new ca({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(fi(s,o))}return be(n)}function fi(e,t,n=!1){if(e==="address"){const i=t;if(!ie(i))throw new ue({address:i});return dn(i.toLowerCase(),{size:n?32:null})}if(e==="string")return qi(t);if(e==="bytes")return t;if(e==="bool")return dn(Zi(t),{size:n?32:1});const r=e.match(ua);if(r){const[i,c,a="256"]=r,u=Number.parseInt(a,10)/8;return N(t,{size:n?32:u,signed:c==="int"})}const s=e.match(fa);if(s){const[i,c]=s;if(Number.parseInt(c,10)!==(t.length-2)/2)throw new da({expectedSize:Number.parseInt(c,10),givenSize:(t.length-2)/2});return dn(t,{dir:"right",size:n?32:null})}const o=e.match(la);if(o&&Array.isArray(t)){const[i,c]=o,a=[];for(let u=0;u<t.length;u++)a.push(fi(c,t[u],!0));return a.length===0?"0x":be(a)}throw new ba(e)}function Ru(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!ie(s))throw new ue({address:s});if(r<0)throw new Qt({chainId:r})}Sr(e)}function Ou(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new No;for(const n of t){const r=ke(n),s=oe(lt(n,0,1));if(r!==32)throw new K0({hash:n,size:r});if(s!==To)throw new Y0({hash:n,version:s})}}Sr(e)}function Sr(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Qt({chainId:t});if(s&&!ie(s))throw new ue({address:s});if(r&&r>Zt)throw new Qe({maxFeePerGas:r});if(n&&r&&n>r)throw new Ft({maxFeePerGas:r,maxPriorityFeePerGas:n})}function _u(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new Qt({chainId:t});if(o&&!ie(o))throw new ue({address:o});if(n||s)throw new L("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Zt)throw new Qe({maxFeePerGas:r})}function Lu(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!ie(o))throw new ue({address:o});if(typeof t<"u"&&t<=0)throw new Qt({chainId:t});if(n||s)throw new L("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Zt)throw new Qe({maxFeePerGas:r})}function sn(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new B0({storageKey:s[o]});if(!ie(r,{strict:!1}))throw new ue({address:r});t.push([r,s])}return t}function il(e,t){const n=Fo(e);return n==="eip1559"?Uu(e,t):n==="eip2930"?ju(e,t):n==="eip4844"?Gu(e,t):n==="eip7702"?Mu(e,t):Vu(e,t)}function Mu(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:c,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:f,data:d}=e;Ru(e);const l=sn(f),h=Du(n);return be(["0x04",Me([N(r),o?N(o):"0x",u?N(u):"0x",a?N(a):"0x",s?N(s):"0x",i??"0x",c?N(c):"0x",d??"0x",l,h,...St(e,t)])])}function Gu(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:c,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:f,data:d}=e;Ou(e);let l=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof l>"u"||typeof h>"u")){const y=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(I=>q(I)),m=e.kzg,v=fr({blobs:y,kzg:m});if(typeof l>"u"&&(l=Ao({commitments:v})),typeof h>"u"){const I=dr({blobs:y,commitments:v,kzg:m});h=ko({blobs:y,commitments:v,proofs:I})}}const p=sn(f),b=[N(n),s?N(s):"0x",u?N(u):"0x",a?N(a):"0x",r?N(r):"0x",o??"0x",i?N(i):"0x",d??"0x",p,c?N(c):"0x",l??[],...St(e,t)],g=[],x=[],B=[];if(h)for(let y=0;y<h.length;y++){const{blob:m,commitment:v,proof:I}=h[y];g.push(m),x.push(v),B.push(I)}return be(["0x03",Me(h?[b,g,x,B]:b)])}function Uu(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:c,maxPriorityFeePerGas:a,accessList:u,data:f}=e;Sr(e);const d=sn(u),l=[N(n),s?N(s):"0x",a?N(a):"0x",c?N(c):"0x",r?N(r):"0x",o??"0x",i?N(i):"0x",f??"0x",d,...St(e,t)];return be(["0x02",Me(l)])}function ju(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:c,accessList:a,gasPrice:u}=e;_u(e);const f=sn(a),d=[N(n),o?N(o):"0x",u?N(u):"0x",r?N(r):"0x",i??"0x",c?N(c):"0x",s??"0x",f,...St(e,t)];return be(["0x01",Me(d)])}function Vu(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:c,gasPrice:a}=e;Lu(e);let u=[o?N(o):"0x",a?N(a):"0x",r?N(r):"0x",i??"0x",c?N(c):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new P0({v:t.v});return h})(),d=Ie(t.r),l=Ie(t.s);u=[...u,N(f),d==="0x00"?"0x":d,l==="0x00"?"0x":l]}else n>0&&(u=[...u,N(n),"0x","0x"]);return Me(u)}function St(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=Ie(n.r),i=Ie(n.s);return[typeof s=="number"?s?N(1):"0x":r===0n?"0x":r===1n?N(1):r===27n?"0x":N(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function Du(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...o}=n,i=n.address;t.push([r?_e(r):"0x",i,s?_e(s):"0x",...St({},o)])}return t}async function Hu({address:e,authorization:t,signature:n}){return Kt(Js(e),await vo({authorization:t,signature:n}))}function al(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(r){return s=>{const o=typeof s=="function"?s(r):s,i={...r,...o};return Object.assign(i,{extend:n(i)})}}return Object.assign(t,{extend:n(t)})}function cl(e){const{source:t}=e,n=new Map,r=new Ls(8192),s=new Map,o=({address:i,chainId:c})=>`${i}.${c}`;return{async consume({address:i,chainId:c,client:a}){const u=o({address:i,chainId:c}),f=this.get({address:i,chainId:c,client:a});this.increment({address:i,chainId:c});const d=await f;return await t.set({address:i,chainId:c},d),r.set(u,d),d},async increment({address:i,chainId:c}){const a=o({address:i,chainId:c}),u=n.get(a)??0;n.set(a,u+1)},async get({address:i,chainId:c,client:a}){const u=o({address:i,chainId:c});let f=s.get(u);return f||(f=(async()=>{try{const l=await t.get({address:i,chainId:c,client:a}),h=r.get(u)??0;return h>0&&l<=h?h+1:(r.delete(u),l)}finally{this.reset({address:i,chainId:c})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:i,chainId:c}){const a=o({address:i,chainId:c});n.delete(a),s.delete(a)}}}const qu="0x6492649264926492649264926492649264926492649264926492649264926492";class Zu extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Wu={checksum:new Zu(8192)},xn=Wu.checksum;function di(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Wi(pc(e));return n==="Bytes"?r:de(r)}const Ku=/^0x[a-fA-F0-9]{40}$/;function on(e,t={}){const{strict:n=!0}=t;if(!Ku.test(e))throw new Is({address:e,cause:new Yu});if(n){if(e.toLowerCase()===e)return;if(li(e)!==e)throw new Is({address:e,cause:new Ju})}}function li(e){if(xn.has(e))return xn.get(e);on(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=di(yc(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return xn.set(e,s),s}function jn(e,t={}){const{strict:n=!0}=t??{};try{return on(e,{strict:n}),!0}catch{return!1}}class Is extends M{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Yu extends M{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Ju extends M{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Xu=/^(.*)\[([0-9]*)\]$/,Qu=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bi=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,As=2n**256n-1n;function Xe(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=kr(t.type);if(o){const[i,c]=o;return tf(e,{...t,type:c},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return of(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return ef(e,{checksum:r});if(t.type==="bool")return nf(e);if(t.type.startsWith("bytes"))return rf(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return sf(e,t);if(t.type==="string")return af(e,{staticPosition:s});throw new Cr(t.type)}const $s=32,Vn=32;function ef(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?li(o):o)(de(wc(r,-20))),32]}function tf(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const a=Be(e.readBytes(Vn)),u=o+a,f=u+$s;e.setPosition(u);const d=Be(e.readBytes($s)),l=mt(t);let h=0;const p=[];for(let b=0;b<d;++b){e.setPosition(f+(l?b*32:h));const[g,x]=Xe(e,t,{checksumAddress:r,staticPosition:f});h+=x,p.push(g)}return e.setPosition(o+32),[p,32]}if(mt(t)){const a=Be(e.readBytes(Vn)),u=o+a,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=Xe(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const c=[];for(let a=0;a<s;++a){const[u,f]=Xe(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,c.push(u)}return[c,i]}function nf(e){return[xc(e.readBytes(32),{size:32}),32]}function rf(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Be(e.readBytes(32));e.setPosition(n+i);const c=Be(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const a=e.readBytes(c);return e.setPosition(n+32),[de(a),32]}return[de(e.readBytes(Number.parseInt(s,10),32)),32]}function sf(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?vc(s,{signed:n}):Be(s,{signed:n}),32]}function of(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:a})=>!a),i=o?[]:{};let c=0;if(mt(t)){const a=Be(e.readBytes(Vn)),u=s+a;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+c);const[l,h]=Xe(e,d,{checksumAddress:r,staticPosition:u});c+=h,i[o?f:d==null?void 0:d.name]=l}return e.setPosition(s+32),[i,32]}for(let a=0;a<t.components.length;++a){const u=t.components[a],[f,d]=Xe(e,u,{checksumAddress:r,staticPosition:s});i[o?a:u==null?void 0:u.name]=f,c+=d}return[i,c]}function af(e,{staticPosition:t}){const n=Be(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Be(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=Pc(Ho(o));return e.setPosition(t+32),[i,32]}function cf({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Tr({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Tr({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=kr(r.type);if(s){const[o,i]=s;return ff(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return pf(n,{checksumAddress:e,parameter:r});if(r.type==="address")return uf(n,{checksum:e});if(r.type==="bool")return lf(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=bi.exec(r.type)??[];return bf(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return df(n,{type:r.type});if(r.type==="string")return hf(n);throw new Cr(r.type)}function Nr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:c}=e[o];i?t+=32:t+=ne(c)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:c}=e[o];i?(n.push(K(t+s,{size:32})),r.push(c),s+=ne(c)):n.push(c)}return fe(...n,...r)}function uf(e,t){const{checksum:n=!1}=t;return on(e,{strict:n}),{dynamic:!1,encoded:Ge(e.toLowerCase())}}function ff(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new Bf(e);if(!o&&e.length!==r)throw new Ef({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const c=[];for(let a=0;a<e.length;a++){const u=Tr({checksumAddress:n,parameter:s,value:e[a]});u.dynamic&&(i=!0),c.push(u)}if(o||i){const a=Nr(c);if(o){const u=K(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?fe(u,a):u}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:fe(...c.map(({encoded:a})=>a))}}function df(e,{type:t}){const[,n]=t.split("bytes"),r=ne(e);if(!n){let s=e;return r%32!==0&&(s=Ue(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:fe(Ge(K(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new pi({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ue(e)}}function lf(e){if(typeof e!="boolean")throw new M(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ge(qo(e))}}function bf(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Ko({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:K(e,{size:32,signed:t})}}function hf(e){const t=vr(e),n=Math.ceil(ne(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ue(ye(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:fe(Ue(K(ne(t),{size:32})),...r)}}function pf(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const c=r.components[i],a=Array.isArray(e)?i:c.name,u=Tr({checksumAddress:n,parameter:c,value:e[a]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Nr(o):fe(...o.map(({encoded:i})=>i))}}function kr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function mt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(mt);const n=kr(e.type);return!!(n&&mt({...e,type:n[1]}))}const mf={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new wf({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new gf({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Ss({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Ss({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function yf(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(mf);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Ss extends M{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class gf extends M{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class wf extends M{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function vf(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?Do(t):t,i=yf(o);if(We(o)===0&&e.length>0)throw new Pf;if(We(o)&&We(o)<32)throw new xf({data:typeof t=="string"?t:de(t),parameters:e,size:We(o)});let c=0;const a=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(c);const[d,l]=Xe(i,f,{checksumAddress:s,staticPosition:0});c+=l,r==="Array"?a.push(d):a[f.name??u]=d}return a}function Fr(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new mi({expectedLength:e.length,givenLength:t.length});const s=cf({checksumAddress:r,parameters:e,values:t}),o=Nr(s);return o.length===0?"0x":o}function Dn(e,t){if(e.length!==t.length)throw new mi({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Dn.encode(s,o))}return fe(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const a=r;return on(a),Ge(a.toLowerCase(),s?32:0)}if(n==="string")return vr(r);if(n==="bytes")return r;if(n==="bool")return Ge(qo(r),s?32:1);const o=n.match(bi);if(o){const[a,u,f="256"]=o,d=Number.parseInt(f,10)/8;return K(r,{size:s?32:d,signed:u==="int"})}const i=n.match(Qu);if(i){const[a,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new pi({expectedSize:Number.parseInt(u,10),value:r});return Ue(r,s?32:0)}const c=n.match(Xu);if(c&&Array.isArray(r)){const[a,u]=c,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":fe(...f)}throw new Cr(n)}e.encode=t})(Dn||(Dn={}));function hi(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?ss(e):e}class xf extends M{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${ha(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Pf extends M{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Ef extends M{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class pi extends M{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ne(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class mi extends M{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Bf extends M{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Cr extends M{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const X=BigInt(0),Y=BigInt(1),Re=BigInt(2),If=BigInt(3),yi=BigInt(4),gi=BigInt(5),wi=BigInt(8);function J(e,t){const n=e%t;return n>=X?n:t+n}function re(e,t,n){let r=e;for(;t-- >X;)r*=r,r%=n;return r}function Hn(e,t){if(e===X)throw new Error("invert: expected non-zero number");if(t<=X)throw new Error("invert: expected positive modulus, got "+t);let n=J(e,t),r=t,s=X,o=Y;for(;n!==X;){const c=r/n,a=r%n,u=s-o*c;r=n,n=a,s=o,o=u}if(r!==Y)throw new Error("invert: does not exist");return J(s,t)}function vi(e,t){const n=(e.ORDER+Y)/yi,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Af(e,t){const n=(e.ORDER-gi)/wi,r=e.mul(t,Re),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,Re),s),c=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(c),t))throw new Error("Cannot find square root");return c}function $f(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Y,n=0;for(;t%Re===X;)t/=Re,n++;let r=Re;const s=zr(e);for(;Ts(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return vi;let o=s.pow(r,t);const i=(t+Y)/Re;return function(a,u){if(a.is0(u))return u;if(Ts(a,u)!==1)throw new Error("Cannot find square root");let f=n,d=a.mul(a.ONE,o),l=a.pow(u,t),h=a.pow(u,i);for(;!a.eql(l,a.ONE);){if(a.is0(l))return a.ZERO;let p=1,b=a.sqr(l);for(;!a.eql(b,a.ONE);)if(p++,b=a.sqr(b),p===f)throw new Error("Cannot find square root");const g=Y<<BigInt(f-p-1),x=a.pow(d,g);f=p,d=a.sqr(x),l=a.mul(l,d),h=a.mul(h,x)}return h}}function Sf(e){return e%yi===If?vi:e%wi===gi?Af:$f(e)}const Tf=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Nf(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Tf.reduce((r,s)=>(r[s]="function",r),t);return Jt(e,n)}function kf(e,t,n){if(n<X)throw new Error("invalid exponent, negatives unsupported");if(n===X)return e.ONE;if(n===Y)return t;let r=e.ONE,s=t;for(;n>X;)n&Y&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Y;return r}function xi(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,c,a)=>e.is0(c)?i:(r[a]=i,e.mul(i,c)),e.ONE),o=e.inv(s);return t.reduceRight((i,c,a)=>e.is0(c)?i:(r[a]=e.mul(i,r[a]),e.mul(i,c)),o),r}function Ts(e,t){const n=(e.ORDER-Y)/Re,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function Pi(e,t){t!==void 0&&Ki(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function zr(e,t,n=!1,r={}){if(e<=X)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=Pi(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:Yt(s),ZERO:X,ONE:Y,create:a=>J(a,e),isValid:a=>{if(typeof a!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof a);return X<=a&&a<e},is0:a=>a===X,isOdd:a=>(a&Y)===Y,neg:a=>J(-a,e),eql:(a,u)=>a===u,sqr:a=>J(a*a,e),add:(a,u)=>J(a+u,e),sub:(a,u)=>J(a-u,e),mul:(a,u)=>J(a*u,e),pow:(a,u)=>kf(c,a,u),div:(a,u)=>J(a*Hn(u,e),e),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>Hn(a,e),sqrt:r.sqrt||(a=>(i||(i=Sf(e)),i(c,a))),toBytes:a=>n?Mo(a,o):It(a,o),fromBytes:a=>{if(a.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+a.length);return n?Lo(a):Oe(a)},invertBatch:a=>xi(c,a),cmov:(a,u,f)=>f?u:a});return Object.freeze(c)}function Ei(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Bi(e){const t=Ei(e);return t+Math.ceil(t/2)}function Ff(e,t,n=!1){const r=e.length,s=Ei(t),o=Bi(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?Lo(e):Oe(e),c=J(i,t-Y)+Y;return n?Mo(c,s):It(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ns=BigInt(0),qn=BigInt(1);function Pn(e,t){const n=t.negate();return e?n:t}function Ii(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function En(e,t){Ii(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Yt(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function ks(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let c=Number(e&s),a=e>>i;c>r&&(c-=o,a+=qn);const u=t*r,f=u+Math.abs(c)-1,d=c===0,l=c<0,h=t%2!==0;return{nextN:a,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:u}}function Cf(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function zf(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Bn=new WeakMap,Ai=new WeakMap;function In(e){return Ai.get(e)||1}function Rf(e,t){return{constTimeNegate:Pn,hasPrecomputes(n){return In(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>Ns;)r&qn&&(s=s.add(o)),o=o.double(),r>>=qn;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=En(r,t),i=[];let c=n,a=c;for(let u=0;u<s;u++){a=c,i.push(a);for(let f=1;f<o;f++)a=a.add(c),i.push(a);c=a.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const c=En(n,t);for(let a=0;a<c.windows;a++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:p}=ks(s,a,c);s=u,d?i=i.add(Pn(h,r[p])):o=o.add(Pn(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=En(n,t);for(let c=0;c<i.windows&&s!==Ns;c++){const{nextN:a,offset:u,isZero:f,isNeg:d}=ks(s,c,i);if(s=a,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=Bn.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Bn.set(r,s(o))),o},wNAFCached(n,r,s){const o=In(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=In(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){Ii(r,t),Ai.set(n,r),Bn.delete(n)}}}function Of(e,t,n,r){Cf(n,e),zf(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,c=sc(BigInt(s));let a=1;c>12?a=c-3:c>4?a=c-2:c>0&&(a=2);const u=Yt(a),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/a)*a;let l=i;for(let h=d;h>=0;h-=a){f.fill(i);for(let b=0;b<o;b++){const g=r[b],x=Number(g>>BigInt(h)&u);f[x]=f[x].add(n[b])}let p=i;for(let b=f.length-1,g=i;b>0;b--)g=g.add(f[b]),p=p.add(g);if(l=l.add(p),h!==0)for(let b=0;b<a;b++)l=l.double()}return l}function $i(e){return Nf(e.Fp),Jt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Pi(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Fs(e){e.lowS!==void 0&&ht("lowS",e.lowS),e.prehash!==void 0&&ht("prehash",e.prehash)}function _f(e){const t=$i(e);Jt(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Lf extends Error{constructor(t=""){super(t)}}const xe={Err:Lf,_tlv:{encode:(e,t)=>{const{Err:n}=xe;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Nt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Nt(s.length/2|128):"";return Nt(e)+o+s+t},decode(e,t){const{Err:n}=xe;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const a=s&127;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+a);if(u.length!==a)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=a,i<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+i);if(c.length!==i)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=xe;if(e<Pe)throw new t("integer: negative integers are not allowed");let n=Nt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=xe;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Oe(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=xe,s=se("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:a}=r.decode(2,o),{v:u,l:f}=r.decode(2,a);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=xe,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function An(e,t){return pt(It(e,t))}const Pe=BigInt(0),D=BigInt(1);BigInt(2);const $n=BigInt(3),Mf=BigInt(4);function Gf(e){const t=_f(e),{Fp:n}=t,r=zr(t.n,t.nBitLength),s=t.toBytes||((y,m,v)=>{const I=m.toAffine();return Lt(Uint8Array.from([4]),n.toBytes(I.x),n.toBytes(I.y))}),o=t.fromBytes||(y=>{const m=y.subarray(1),v=n.fromBytes(m.subarray(0,n.BYTES)),I=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:v,y:I}});function i(y){const{a:m,b:v}=t,I=n.sqr(y),P=n.mul(I,y);return n.add(n.add(P,n.mul(y,m)),v)}function c(y,m){const v=n.sqr(m),I=i(y);return n.eql(v,I)}if(!c(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const a=n.mul(n.pow(t.a,$n),Mf),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(a,u)))throw new Error("bad curve params: a or b");function f(y){return wr(y,D,t.n)}function d(y){const{allowedPrivateKeyLengths:m,nByteLength:v,wrapPrivateKey:I,n:P}=t;if(m&&typeof y!="bigint"){if(Bt(y)&&(y=pt(y)),typeof y!="string"||!m.includes(y.length))throw new Error("invalid private key");y=y.padStart(v*2,"0")}let E;try{E=typeof y=="bigint"?y:Oe(se("private key",y,v))}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof y)}return I&&(E=J(E,P)),Je("private key",E,D,P),E}function l(y){if(!(y instanceof b))throw new Error("ProjectivePoint expected")}const h=gs((y,m)=>{const{px:v,py:I,pz:P}=y;if(n.eql(P,n.ONE))return{x:v,y:I};const E=y.is0();m==null&&(m=E?n.ONE:n.inv(P));const T=n.mul(v,m),R=n.mul(I,m),S=n.mul(P,m);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:T,y:R}}),p=gs(y=>{if(y.is0()){if(t.allowInfinityPoint&&!n.is0(y.py))return;throw new Error("bad point: ZERO")}const{x:m,y:v}=y.toAffine();if(!n.isValid(m)||!n.isValid(v))throw new Error("bad point: x or y not FE");if(!c(m,v))throw new Error("bad point: equation left != right");if(!y.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(m,v,I){if(m==null||!n.isValid(m))throw new Error("x required");if(v==null||!n.isValid(v)||n.is0(v))throw new Error("y required");if(I==null||!n.isValid(I))throw new Error("z required");this.px=m,this.py=v,this.pz=I,Object.freeze(this)}static fromAffine(m){const{x:v,y:I}=m||{};if(!m||!n.isValid(v)||!n.isValid(I))throw new Error("invalid affine point");if(m instanceof b)throw new Error("projective point not allowed");const P=E=>n.eql(E,n.ZERO);return P(v)&&P(I)?b.ZERO:new b(v,I,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const v=xi(n,m.map(I=>I.pz));return m.map((I,P)=>I.toAffine(v[P])).map(b.fromAffine)}static fromHex(m){const v=b.fromAffine(o(se("pointHex",m)));return v.assertValidity(),v}static fromPrivateKey(m){return b.BASE.multiply(d(m))}static msm(m,v){return Of(b,r,m,v)}_setWindowSize(m){B.setWindowSize(this,m)}assertValidity(){p(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:v,py:I,pz:P}=this,{px:E,py:T,pz:R}=m,S=n.eql(n.mul(v,R),n.mul(E,P)),F=n.eql(n.mul(I,R),n.mul(T,P));return S&&F}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:v}=t,I=n.mul(v,$n),{px:P,py:E,pz:T}=this;let R=n.ZERO,S=n.ZERO,F=n.ZERO,k=n.mul(P,P),U=n.mul(E,E),w=n.mul(T,T),$=n.mul(P,E);return $=n.add($,$),F=n.mul(P,T),F=n.add(F,F),R=n.mul(m,F),S=n.mul(I,w),S=n.add(R,S),R=n.sub(U,S),S=n.add(U,S),S=n.mul(R,S),R=n.mul($,R),F=n.mul(I,F),w=n.mul(m,w),$=n.sub(k,w),$=n.mul(m,$),$=n.add($,F),F=n.add(k,k),k=n.add(F,k),k=n.add(k,w),k=n.mul(k,$),S=n.add(S,k),w=n.mul(E,T),w=n.add(w,w),k=n.mul(w,$),R=n.sub(R,k),F=n.mul(w,U),F=n.add(F,F),F=n.add(F,F),new b(R,S,F)}add(m){l(m);const{px:v,py:I,pz:P}=this,{px:E,py:T,pz:R}=m;let S=n.ZERO,F=n.ZERO,k=n.ZERO;const U=t.a,w=n.mul(t.b,$n);let $=n.mul(v,E),z=n.mul(I,T),A=n.mul(P,R),C=n.add(v,I),O=n.add(E,T);C=n.mul(C,O),O=n.add($,z),C=n.sub(C,O),O=n.add(v,P);let G=n.add(E,R);return O=n.mul(O,G),G=n.add($,A),O=n.sub(O,G),G=n.add(I,P),S=n.add(T,R),G=n.mul(G,S),S=n.add(z,A),G=n.sub(G,S),k=n.mul(U,O),S=n.mul(w,A),k=n.add(S,k),S=n.sub(z,k),k=n.add(z,k),F=n.mul(S,k),z=n.add($,$),z=n.add(z,$),A=n.mul(U,A),O=n.mul(w,O),z=n.add(z,A),A=n.sub($,A),A=n.mul(U,A),O=n.add(O,A),$=n.mul(z,O),F=n.add(F,$),$=n.mul(G,O),S=n.mul(C,S),S=n.sub(S,$),$=n.mul(C,z),k=n.mul(G,k),k=n.add(k,$),new b(S,F,k)}subtract(m){return this.add(m.negate())}is0(){return this.equals(b.ZERO)}wNAF(m){return B.wNAFCached(this,m,b.normalizeZ)}multiplyUnsafe(m){const{endo:v,n:I}=t;Je("scalar",m,Pe,I);const P=b.ZERO;if(m===Pe)return P;if(this.is0()||m===D)return this;if(!v||B.hasPrecomputes(this))return B.wNAFCachedUnsafe(this,m,b.normalizeZ);let{k1neg:E,k1:T,k2neg:R,k2:S}=v.splitScalar(m),F=P,k=P,U=this;for(;T>Pe||S>Pe;)T&D&&(F=F.add(U)),S&D&&(k=k.add(U)),U=U.double(),T>>=D,S>>=D;return E&&(F=F.negate()),R&&(k=k.negate()),k=new b(n.mul(k.px,v.beta),k.py,k.pz),F.add(k)}multiply(m){const{endo:v,n:I}=t;Je("scalar",m,D,I);let P,E;if(v){const{k1neg:T,k1:R,k2neg:S,k2:F}=v.splitScalar(m);let{p:k,f:U}=this.wNAF(R),{p:w,f:$}=this.wNAF(F);k=B.constTimeNegate(T,k),w=B.constTimeNegate(S,w),w=new b(n.mul(w.px,v.beta),w.py,w.pz),P=k.add(w),E=U.add($)}else{const{p:T,f:R}=this.wNAF(m);P=T,E=R}return b.normalizeZ([P,E])[0]}multiplyAndAddUnsafe(m,v,I){const P=b.BASE,E=(R,S)=>S===Pe||S===D||!R.equals(P)?R.multiplyUnsafe(S):R.multiply(S),T=E(this,v).add(E(m,I));return T.is0()?void 0:T}toAffine(m){return h(this,m)}isTorsionFree(){const{h:m,isTorsionFree:v}=t;if(m===D)return!0;if(v)return v(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:v}=t;return m===D?this:v?v(b,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return ht("isCompressed",m),this.assertValidity(),s(b,this,m)}toHex(m=!0){return ht("isCompressed",m),pt(this.toRawBytes(m))}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:x}=t,B=Rf(b,g?Math.ceil(x/2):x);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function Uf(e){const t=$i(e);return Jt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function jf(e){const t=Uf(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,c=2*n.BYTES+1;function a(w){return J(w,r)}function u(w){return Hn(w,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:h}=Gf({...t,toBytes(w,$,z){const A=$.toAffine(),C=n.toBytes(A.x),O=Lt;return ht("isCompressed",z),z?O(Uint8Array.from([$.hasEvenY()?2:3]),C):O(Uint8Array.from([4]),C,n.toBytes(A.y))},fromBytes(w){const $=w.length,z=w[0],A=w.subarray(1);if($===i&&(z===2||z===3)){const C=Oe(A);if(!wr(C,D,n.ORDER))throw new Error("Point is not on curve");const O=l(C);let G;try{G=n.sqrt(O)}catch(Z){const V=Z instanceof Error?": "+Z.message:"";throw new Error("Point is not on curve"+V)}const j=(G&D)===D;return(z&1)===1!==j&&(G=n.neg(G)),{x:C,y:G}}else if($===c&&z===4){const C=n.fromBytes(A.subarray(0,n.BYTES)),O=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:C,y:O}}else{const C=i,O=c;throw new Error("invalid Point, expected length of "+C+", or uncompressed "+O+", got "+$)}}});function p(w){const $=r>>D;return w>$}function b(w){return p(w)?a(-w):w}const g=(w,$,z)=>Oe(w.slice($,z));class x{constructor($,z,A){Je("r",$,D,r),Je("s",z,D,r),this.r=$,this.s=z,A!=null&&(this.recovery=A),Object.freeze(this)}static fromCompact($){const z=s;return $=se("compactSignature",$,z*2),new x(g($,0,z),g($,z,2*z))}static fromDER($){const{r:z,s:A}=xe.toSig(se("DER",$));return new x(z,A)}assertValidity(){}addRecoveryBit($){return new x(this.r,this.s,$)}recoverPublicKey($){const{r:z,s:A,recovery:C}=this,O=P(se("msgHash",$));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const G=C===2||C===3?z+t.n:z;if(G>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const j=(C&1)===0?"02":"03",H=f.fromHex(j+An(G,n.BYTES)),Z=u(G),V=a(-O*Z),W=a(A*Z),Ne=f.BASE.multiplyAndAddUnsafe(H,V,W);if(!Ne)throw new Error("point at infinify");return Ne.assertValidity(),Ne}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return _t(this.toDERHex())}toDERHex(){return xe.hexFromSig(this)}toCompactRawBytes(){return _t(this.toCompactHex())}toCompactHex(){const $=s;return An(this.r,$)+An(this.s,$)}}const B={isValidPrivateKey(w){try{return d(w),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const w=Bi(t.n);return Ff(t.randomBytes(w),t.n)},precompute(w=8,$=f.BASE){return $._setWindowSize(w),$.multiply(BigInt(3)),$}};function y(w,$=!0){return f.fromPrivateKey(w).toRawBytes($)}function m(w){if(typeof w=="bigint")return!1;if(w instanceof f)return!0;const z=se("key",w).length,A=n.BYTES,C=A+1,O=2*A+1;if(!(t.allowedPrivateKeyLengths||s===C))return z===C||z===O}function v(w,$,z=!0){if(m(w)===!0)throw new Error("first arg must be private key");if(m($)===!1)throw new Error("second arg must be public key");return f.fromHex($).multiply(d(w)).toRawBytes(z)}const I=t.bits2int||function(w){if(w.length>8192)throw new Error("input is too large");const $=Oe(w),z=w.length*8-o;return z>0?$>>BigInt(z):$},P=t.bits2int_modN||function(w){return a(I(w))},E=Yt(o);function T(w){return Je("num < 2^"+o,w,Pe,E),It(w,s)}function R(w,$,z=S){if(["recovered","canonical"].some(Ce=>Ce in z))throw new Error("sign() legacy options not supported");const{hash:A,randomBytes:C}=t;let{lowS:O,prehash:G,extraEntropy:j}=z;O==null&&(O=!0),w=se("msgHash",w),Fs(z),G&&(w=se("prehashed msgHash",A(w)));const H=P(w),Z=d($),V=[T(Z),T(H)];if(j!=null&&j!==!1){const Ce=j===!0?C(n.BYTES):j;V.push(se("extraEntropy",Ce))}const W=Lt(...V),Ne=H;function un(Ce){const He=I(Ce);if(!h(He))return;const fn=u(He),it=f.BASE.multiply(He).toAffine(),ze=a(it.x);if(ze===Pe)return;const at=a(fn*a(Ne+ze*Z));if(at===Pe)return;let ct=(it.x===ze?0:2)|Number(it.y&D),qe=at;return O&&p(at)&&(qe=b(at),ct^=1),new x(ze,qe,ct)}return{seed:W,k2sig:un}}const S={lowS:t.lowS,prehash:!1},F={lowS:t.lowS,prehash:!1};function k(w,$,z=S){const{seed:A,k2sig:C}=R(w,$,z),O=t;return oc(O.hash.outputLen,O.nByteLength,O.hmac)(A,C)}f.BASE._setWindowSize(8);function U(w,$,z,A=F){var ct;const C=w;$=se("msgHash",$),z=se("publicKey",z);const{lowS:O,prehash:G,format:j}=A;if(Fs(A),"strict"in A)throw new Error("options.strict was renamed to lowS");if(j!==void 0&&j!=="compact"&&j!=="der")throw new Error("format must be compact or der");const H=typeof C=="string"||Bt(C),Z=!H&&!j&&typeof C=="object"&&C!==null&&typeof C.r=="bigint"&&typeof C.s=="bigint";if(!H&&!Z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let V,W;try{if(Z&&(V=new x(C.r,C.s)),H){try{j!=="compact"&&(V=x.fromDER(C))}catch(qe){if(!(qe instanceof xe.Err))throw qe}!V&&j!=="der"&&(V=x.fromCompact(C))}W=f.fromHex(z)}catch{return!1}if(!V||O&&V.hasHighS())return!1;G&&($=t.hash($));const{r:Ne,s:un}=V,Ce=P($),He=u(un),fn=a(Ce*He),it=a(Ne*He),ze=(ct=f.BASE.multiplyAndAddUnsafe(W,fn,it))==null?void 0:ct.toAffine();return ze?a(ze.x)===Ne:!1}return{CURVE:t,getPublicKey:y,getSharedSecret:v,sign:k,verify:U,ProjectivePoint:f,Signature:x,utils:B}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Vf(e){return{hash:e,hmac:(t,...n)=>Ji(e,t,Xi(...n)),randomBytes:Yi}}function Df(e,t){const n=r=>jf({...e,...Vf(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Si=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Cs=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Hf=BigInt(0),qf=BigInt(1),Zn=BigInt(2),zs=(e,t)=>(e+t/Zn)/t;function Zf(e){const t=Si,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),c=BigInt(44),a=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=re(f,n,t)*f%t,l=re(d,n,t)*f%t,h=re(l,Zn,t)*u%t,p=re(h,s,t)*h%t,b=re(p,o,t)*p%t,g=re(b,c,t)*b%t,x=re(g,a,t)*g%t,B=re(x,c,t)*b%t,y=re(B,n,t)*f%t,m=re(y,i,t)*p%t,v=re(m,r,t)*u%t,I=re(v,Zn,t);if(!Wn.eql(Wn.sqr(I),e))throw new Error("Cannot find square root");return I}const Wn=zr(Si,void 0,void 0,{sqrt:Zf}),Rr=Df({a:Hf,b:BigInt(7),Fp:Wn,n:Cs,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Cs,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-qf*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),c=zs(o*e,t),a=zs(-r*e,t);let u=J(e-c*n-a*s,t),f=J(-c*r-a*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},_s),Wf=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Rr},Symbol.toStringTag,{value:"Module"}));function Ti(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Sn({signature:e});if(typeof e.s>"u")throw new Sn({signature:e});if(n&&typeof e.yParity>"u")throw new Sn({signature:e});if(e.r<0n||e.r>As)throw new td({value:e.r});if(e.s<0n||e.s>As)throw new nd({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new _r({value:e.yParity})}function Kf(e){return Ni(de(e))}function Ni(e){if(e.length!==130&&e.length!==132)throw new ed({signature:e});const t=BigInt(ye(e,0,32)),n=BigInt(ye(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Or(s)}catch{throw new _r({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Yf(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Jf(e)}function Jf(e){const t=typeof e=="string"?Ni(e):e instanceof Uint8Array?Kf(e):typeof e.r=="string"?Qf(e):e.v?Xf(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Ti(t),t}function Xf(e){return{r:e.r,s:e.s,yParity:Or(e.v)}}function Qf(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Or(n)),typeof r!="number")throw new _r({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Or(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new rd({value:e})}class ed extends M{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ne(Nc(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Sn extends M{constructor({signature:t}){super(`Signature \`${Vo(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class td extends M{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class nd extends M{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class _r extends M{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class rd extends M{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function sd(e,t={}){return typeof e.chainId=="string"?od(e):{...e,...t.signature}}function od(e){const{address:t,chainId:n,nonce:r}=e,s=Yf(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const id="0x8010801080108010801080108010801080108010801080108010801080108010",ad=hi("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function ki(e){if(typeof e=="string"){if(ye(e,-32)!==id)throw new fd(e)}else Ti(e.authorization)}function cd(e){ki(e);const t=Wo(ye(e,-64,-32)),n=ye(e,-t-64,-64),r=ye(e,0,-t-64),[s,o,i]=vf(ad,n);return{authorization:sd({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function ud(e){try{return ki(e),!0}catch{return!1}}let fd=class extends M{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function fl(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=be([gt([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),qu]);return s==="hex"?o:Ae(o)}function dd(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function ld(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?oe(e.nonce):void 0,storageProof:e.storageProof?dd(e.storageProof):void 0}}async function bd(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?N(n):void 0,c=await e.request({method:"eth_getProof",params:[t,s,i||o]});return ld(c)}async function hd(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?N(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Lr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:c}){var l,h,p;const a=r||"latest",u=n!==void 0?N(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,N(o)]},{dedupe:!0}):typeof o=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||a,N(o)]},{dedupe:!!u}):i&&typeof c=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,N(c)]},{dedupe:!0})),!f)throw new bo({blockHash:t,blockNumber:n,blockTag:a,hash:s,index:o});return(((p=(h=(l=e.chain)==null?void 0:l.formatters)==null?void 0:h.transaction)==null?void 0:p.format)||Wt)(f,"getTransaction")}async function pd(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([_(e,$t,"getBlockNumber")({}),t?_(e,Lr,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function kt(e,{hash:t}){var s,o,i;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new ho({hash:t});return(((i=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:i.format)||Er)(n,"getTransactionReceipt")}async function md(e,t){var B;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:c,stateOverride:a}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof((B=e.batch)==null?void 0:B.multicall)=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return st({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let p=0,b=0;for(let y=0;y<u.length;y++){const{abi:m,address:v,args:I,functionName:P}=u[y];try{const E=he({abi:m,args:I,functionName:P});b+=(E.length-2)/2,f>0&&b>f&&h[p].length>0&&(p++,b=(E.length-2)/2,h[p]=[]),h[p]=[...h[p],{allowFailure:!0,callData:E,target:v}]}catch(E){const T=et(E,{abi:m,address:v,args:I,docsPath:"/docs/contract/multicall",functionName:P,sender:n});if(!s)throw T;h[p]=[...h[p],{allowFailure:!0,callData:"0x",target:v}]}}const g=await Promise.allSettled(h.map(y=>_(e,le,"readContract")({...l===null?{code:xr}:{address:l},abi:Ct,account:n,args:[y],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:c,functionName:"aggregate3",stateOverride:a}))),x=[];for(let y=0;y<g.length;y++){const m=g[y];if(m.status==="rejected"){if(!s)throw m.reason;for(let I=0;I<h[y].length;I++)x.push({status:"failure",error:m.reason,result:void 0});continue}const v=m.value;for(let I=0;I<v.length;I++){const{returnData:P,success:E}=v[I],{callData:T}=h[y][I],{abi:R,address:S,functionName:F,args:k}=u[x.length];try{if(T==="0x")throw new wt;if(!E)throw new Dt({data:P});const U=De({abi:R,args:k,data:P,functionName:F});x.push(s?{result:U,status:"success"}:U)}catch(U){const w=et(U,{abi:R,address:S,args:k,docsPath:"/docs/contract/multicall",functionName:F});if(!s)throw w;x.push({error:w,result:void 0,status:"failure"})}}}if(x.length!==u.length)throw new L("multicall results mismatch");return x}async function Kn(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:c}=t;try{const a=[];for(const l of s){const h=l.blockOverrides?Jo(l.blockOverrides):void 0,p=l.calls.map(g=>{const x=g,B=x.account?te(x.account):void 0,y=x.abi?he(x):x.data,m={...x,account:B,data:x.dataSuffix?Ys([y||"0x",x.dataSuffix]):y,from:x.from??(B==null?void 0:B.address)};return rt(m),Et(m)}),b=l.stateOverrides?ir(l.stateOverrides):void 0;a.push({blockOverrides:h,calls:p,stateOverrides:b})}const f=(typeof n=="bigint"?N(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:a,returnFullTransactions:o,traceTransfers:i,validation:c},f]})).map((l,h)=>({...cr(l),calls:l.calls.map((p,b)=>{var R,S;const{abi:g,args:x,functionName:B,to:y}=s[h].calls[b],m=((R=p.error)==null?void 0:R.data)??p.returnData,v=BigInt(p.gasUsed),I=(S=p.logs)==null?void 0:S.map(F=>Se(F)),P=p.status==="0x1"?"success":"failure",E=g&&P==="success"&&m!=="0x"?De({abi:g,data:m,functionName:B}):null,T=(()=>{var k;if(P==="success")return;let F;if(((k=p.error)==null?void 0:k.data)==="0x"?F=new wt:p.error&&(F=new Dt(p.error)),!!F)return et(F,{abi:g??[],address:y??"0x",args:x,functionName:B??"<unknown>"})})();return{data:m,gasUsed:v,logs:I,status:P,...P==="success"?{result:E}:{error:T}}})}))}catch(a){const u=a,f=Ht(u,{});throw f instanceof yt?u:f}}function Yn(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const c=e[i];if(["(",")",","].includes(c)&&(t=!0),c==="("&&r++,c===")"&&r--,!!t){if(r===0){if(c===" "&&["event","function","error",""].includes(s))s="";else if(s+=c,c===")"){o=!0;break}continue}if(c===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=c,n+=c}}if(!o)throw new M("Unable to normalize signature.");return s}function Jn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return jn(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Jn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Jn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Fi(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Fi(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?jn(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?jn(n[r],{strict:!1}):!1)return i}}function Ci(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?rs(e):e;return{...r,...n?{hash:Ke(r)}:{}}}function an(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=kc(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?zi(u)===ye(t,0,4):u.type==="event"?Ke(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new Mt({name:t});if(i.length===1)return{...i[0],...s?{hash:Ke(i[0])}:{}};let c;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Ke(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const h="inputs"in u&&u.inputs[l];return h?Jn(d,h):!1})){if(c&&"inputs"in c&&c.inputs){const d=Fi(u.inputs,c.inputs,r);if(d)throw new gd({abiItem:u,type:d[0]},{abiItem:c,type:d[1]})}c=u}}const a=(()=>{if(c)return c;const[u,...f]=i;return{...u,overloads:f}})();if(!a)throw new Mt({name:t});return{...a,...s?{hash:Ke(a)}:{}}}function zi(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return an(n,r)}return e[0]})();return ye(Ke(t),0,4)}function yd(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return an(r,s)}return e[0]})(),n=typeof t=="string"?t:kn(t);return Yn(n)}function Ke(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return an(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:di(vr(yd(t)))}class gd extends M{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Yn(kn(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Yn(kn(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Mt extends M{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function wd(...e){var o;const[t,n]=(()=>{if(Array.isArray(e[0])){const[i,c]=e;return[xd(i),c]}return e})(),{bytecode:r,args:s}=n;return fe(r,(o=t.inputs)!=null&&o.length&&(s!=null&&s.length)?Fr(t.inputs,s):"0x")}function vd(e){return Ci(e)}function xd(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Mt({name:"constructor"});return t}function Pd(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[Rs(u,f,{args:d}),d]}const[c,a]=e;return[c,a]})(),{overloads:r}=t,s=r?Rs([t,...r],t.name,{args:n}):t,o=Ed(s),i=n.length>0?Fr(s.inputs,n):void 0;return i?fe(o,i):o}function Ze(e,t={}){return Ci(e,t)}function Rs(e,t,n){const r=an(e,t,n);if(r.type!=="function")throw new Mt({name:t,type:"function"});return r}function Ed(e){return zi(e)}const Bd="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",pe="0x0000000000000000000000000000000000000000",Id="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Ad(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:c,validation:a}=t,u=t.account?te(t.account):void 0;if(i&&!u)throw new L("`account` is required when `traceAssetChanges` is true");const f=u?wd(vd("constructor(bytes, bytes)"),{bytecode:Xo,args:[Id,Pd(Ze("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async A=>{if(!A.data&&!A.abi)return;const{accessList:C}=await ai(e,{account:u.address,...A,data:A.abi?he(A):A.data});return C.map(({address:O,storageKeys:G})=>G.length>0?O:null)})).then(A=>A.flat().filter(Boolean)):[],l=await Kn(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((A,C)=>({abi:[Ze("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:A,from:pe,nonce:C})),stateOverrides:[{address:pe,nonce:0}]}]:[],{calls:[...s,{}].map(A=>({...A,from:u==null?void 0:u.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((A,C)=>({abi:[Ze("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:A,from:pe,nonce:C})),stateOverrides:[{address:pe,nonce:0}]},{calls:d.map((A,C)=>({to:A,abi:[Ze("function decimals() returns (uint256)")],functionName:"decimals",from:pe,nonce:C})),stateOverrides:[{address:pe,nonce:0}]},{calls:d.map((A,C)=>({to:A,abi:[Ze("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:pe,nonce:C})),stateOverrides:[{address:pe,nonce:0}]},{calls:d.map((A,C)=>({to:A,abi:[Ze("function symbol() returns (string)")],functionName:"symbol",from:pe,nonce:C})),stateOverrides:[{address:pe,nonce:0}]}]:[]],traceTransfers:c,validation:a}),h=i?l[2]:l[0],[p,b,,g,x,B,y,m]=i?l:[],{calls:v,...I}=h,P=v.slice(0,-1)??[],E=(p==null?void 0:p.calls)??[],T=(b==null?void 0:b.calls)??[],R=[...E,...T].map(A=>A.status==="success"?ce(A.data):null),S=(g==null?void 0:g.calls)??[],F=(x==null?void 0:x.calls)??[],k=[...S,...F].map(A=>A.status==="success"?ce(A.data):null),U=((B==null?void 0:B.calls)??[]).map(A=>A.status==="success"?A.result:null),w=((m==null?void 0:m.calls)??[]).map(A=>A.status==="success"?A.result:null),$=((y==null?void 0:y.calls)??[]).map(A=>A.status==="success"?A.result:null),z=[];for(const[A,C]of k.entries()){const O=R[A];if(typeof C!="bigint"||typeof O!="bigint")continue;const G=U[A-1],j=w[A-1],H=$[A-1],Z=A===0?{address:Bd,decimals:18,symbol:"ETH"}:{address:d[A-1],decimals:H||G?Number(G??1):void 0,symbol:j??void 0};z.some(V=>V.token.address===Z.address)||z.push({token:Z,value:{pre:O,post:C,diff:C-O}})}return{assetChanges:z,block:I,results:P}}const Ri="0x6492649264926492649264926492649264926492649264926492649264926492";function $d(e){if(ye(e,-32)!==Ri)throw new Nd(e)}function Sd(e){const{data:t,signature:n,to:r}=e;return fe(Fr(hi("address, bytes, bytes"),[r,t,n]),Ri)}function Td(e){try{return $d(e),!0}catch{return!1}}class Nd extends M{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function kd({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Rr.Signature(ce(e),ce(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:Ae(i)}async function cn(e,t){var a,u,f,d;const{address:n,chain:r=e.chain,hash:s,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??((u=(a=r==null?void 0:r.contracts)==null?void 0:a.erc6492Verifier)==null?void 0:u.address),multicallAddress:i=t.multicallAddress??((d=(f=r==null?void 0:r.contracts)==null?void 0:f.multicall3)==null?void 0:d.address)}=t;if(r!=null&&r.verifyHash)return await r.verifyHash(e,t);const c=(()=>{const l=t.signature;return dt(l)?l:typeof l=="object"&&"r"in l&&"s"in l?kd(l):q(l)})();try{return ud(c)?await Fd(e,{...t,multicallAddress:i,signature:c}):await Cd(e,{...t,verifierAddress:o,signature:c})}catch(l){try{if(Kt(Js(n),await yo({hash:s,signature:c})))return!0}catch{}if(l instanceof je)return!1;throw l}}async function Fd(e,t){var g;const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:c,data:a,signature:u,to:f}=cd(t.signature);if(await Un(e,{address:n,blockNumber:r,blockTag:s})===be(["0xef0100",c.address]))return await zd(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:N(c.r,{size:32}),s:N(c.s,{size:32}),yParity:c.yParity};if(!await Hu({address:n,authorization:l}))throw new je;const p=await _(e,le,"readContract")({...i?{address:i}:{code:xr},authorizationList:[l],abi:Ct,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...a?[{allowFailure:!0,target:f??n,callData:a}]:[],{allowFailure:!0,target:n,callData:he({abi:Us,functionName:"isValidSignature",args:[o,u]})}]]}),b=(g=p[p.length-1])==null?void 0:g.returnData;if(b!=null&&b.startsWith("0x1626ba7e"))return!0;throw new je}async function Cd(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:c,...a}=t,u=await(async()=>!r&&!s||Td(i)?i:Sd({data:s,signature:i,to:r}))(),f=c?{to:c,data:he({abi:Jr,functionName:"isValidSig",args:[n,o,u]}),...a}:{data:Pr({abi:Jr,args:[n,o,u],bytecode:_c}),...a},{data:d}=await _(e,en,"call")(f).catch(l=>{throw l instanceof po?new je:l});if(Qi(d??"0x0"))return!0;throw new je}async function zd(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await _(e,le,"readContract")({address:n,abi:Us,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(a=>{throw a instanceof mo?new je:a})).startsWith("0x1626ba7e"))return!0;throw new je}class je extends Error{}async function Rd(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const c=Xs(n);return _(e,cn,"verifyHash")({address:t,factory:r,factoryData:s,hash:c,signature:o,...i})}async function Od(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:c,types:a,domain:u,...f}=t,d=pa({message:i,primaryType:c,types:a,domain:u});return _(e,cn,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function Oi(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const c=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let a;return c?(()=>{const d=ge(["watchBlockNumber",e.uid,t,n,i]);return Te(d,{onBlockNumber:r,onError:s},l=>ot(async()=>{var h;try{const p=await _(e,$t,"getBlockNumber")({cacheTime:0});if(a!==void 0){if(p===a)return;if(p-a>1&&n)for(let b=a+1n;b<p;b++)l.onBlockNumber(b,a),a=b}(a===void 0||p>a)&&(l.onBlockNumber(p,a),a=p)}catch(p){(h=l.onError)==null||h.call(l,p)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=ge(["watchBlockNumber",e.uid,t,n]);return Te(d,{onBlockNumber:r,onError:s},l=>{let h=!0,p=()=>h=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(B=>B.config.type==="webSocket"||B.config.type==="ipc");return x?x.value:e.transport}return e.transport})(),{unsubscribe:g}=await b.subscribe({params:["newHeads"],onData(x){var y;if(!h)return;const B=ce((y=x.result)==null?void 0:y.number);l.onBlockNumber(B,a),a=B},onError(x){var B;(B=l.onError)==null||B.call(l,x)}});p=g,h||p()}catch(b){s==null||s(b)}})(),()=>p()})})()}async function _d(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:c=({count:v})=>~~(1<<v)*200,timeout:a=18e4}=t,u=ge(["waitForTransactionReceipt",e.uid,s]),f=(()=>{var v;return t.pollingInterval?t.pollingInterval:(v=e.chain)!=null&&v.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let d,l,h,p=!1,b,g;const{promise:x,resolve:B,reject:y}=Ms(),m=a?setTimeout(()=>{g==null||g(),b==null||b(),y(new $0({hash:s}))},a):void 0;return b=Te(u,{onReplaced:o,resolve:B,reject:y},async v=>{if(h=await _(e,kt,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(m),v.resolve(h),b==null||b();return}g=_(e,Oi,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(I){const P=T=>{clearTimeout(m),g==null||g(),T(),b==null||b()};let E=I;if(!p)try{if(h){if(r>1&&(!h.blockNumber||E-h.blockNumber+1n<r))return;P(()=>v.resolve(h));return}if(n&&!d&&(p=!0,await Tn(async()=>{d=await _(e,Lr,"getTransaction")({hash:s}),d.blockNumber&&(E=d.blockNumber)},{delay:c,retryCount:i}),p=!1),h=await _(e,kt,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||E-h.blockNumber+1n<r))return;P(()=>v.resolve(h))}catch(T){if(T instanceof bo||T instanceof ho){if(!d){p=!1;return}try{l=d,p=!0;const R=await Tn(()=>_(e,ae,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:c,retryCount:i,shouldRetry:({error:k})=>k instanceof Po});p=!1;const S=R.transactions.find(({from:k,nonce:U})=>k===l.from&&U===l.nonce);if(!S||(h=await _(e,kt,"getTransactionReceipt")({hash:S.hash}),r>1&&(!h.blockNumber||E-h.blockNumber+1n<r)))return;let F="replaced";S.to===l.to&&S.value===l.value&&S.input===l.input?F="repriced":S.from===S.to&&S.value===0n&&(F="cancelled"),P(()=>{var k;(k=v.onReplaced)==null||k.call(v,{reason:F,replacedTransaction:l,transaction:S,transactionReceipt:h}),v.resolve(h)})}catch(R){P(()=>v.reject(R))}}else P(()=>v.reject(T))}}})}),x}function Ld(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:c,pollingInterval:a=e.pollingInterval}){const u=typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const p=ge(["watchBlocks",e.uid,t,n,r,f,a]);return Te(p,{onBlock:s,onError:o},b=>ot(async()=>{var g;try{const x=await _(e,ae,"getBlock")({blockTag:t,includeTransactions:f});if(x.number!==null&&(d==null?void 0:d.number)!=null){if(x.number===d.number)return;if(x.number-d.number>1&&n)for(let B=(d==null?void 0:d.number)+1n;B<x.number;B++){const y=await _(e,ae,"getBlock")({blockNumber:B,includeTransactions:f});b.onBlock(y,d),d=y}}((d==null?void 0:d.number)==null||t==="pending"&&(x==null?void 0:x.number)==null||x.number!==null&&x.number>d.number)&&(b.onBlock(x,d),d=x)}catch(x){(g=b.onError)==null||g.call(b,x)}},{emitOnBegin:r,interval:a}))})():(()=>{let p=!0,b=!0,g=()=>p=!1;return(async()=>{try{r&&_(e,ae,"getBlock")({blockTag:t,includeTransactions:f}).then(y=>{p&&b&&(s(y,void 0),b=!1)}).catch(o);const x=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(m=>m.config.type==="webSocket"||m.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:B}=await x.subscribe({params:["newHeads"],async onData(y){var v;if(!p)return;const m=await _(e,ae,"getBlock")({blockNumber:(v=y.result)==null?void 0:v.number,includeTransactions:f}).catch(()=>{});p&&(s(m,d),b=!1,d=m)},onError(y){o==null||o(y)}});g=B,p||g()}catch(x){o==null||o(x)}})(),()=>g()})()}function Md(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:c,onLogs:a,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return l?(()=>{const g=ge(["watchEvent",t,n,r,e.uid,s,f,i]);return Te(g,{onLogs:a,onError:c},x=>{let B;i!==void 0&&(B=i-1n);let y,m=!1;const v=ot(async()=>{var I;if(!m){try{y=await _(e,ci,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:i})}catch{}m=!0;return}try{let P;if(y)P=await _(e,tn,"getFilterChanges")({filter:y});else{const E=await _(e,$t,"getBlockNumber")({});B&&B!==E?P=await _(e,mr,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:B+1n,toBlock:E}):P=[],B=E}if(P.length===0)return;if(r)x.onLogs(P);else for(const E of P)x.onLogs([E])}catch(P){y&&P instanceof Xn&&(m=!1),(I=x.onError)==null||I.call(x,P)}},{emitOnBegin:!0,interval:f});return async()=>{y&&await _(e,nn,"uninstallFilter")({filter:y}),v()}})})():(()=>{let g=!0,x=()=>g=!1;return(async()=>{try{const B=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return I?I.value:e.transport}return e.transport})(),y=o??(s?[s]:void 0);let m=[];y&&(m=[y.flatMap(P=>vt({abi:[P],eventName:P.name,args:n}))],s&&(m=m[0]));const{unsubscribe:v}=await B.subscribe({params:["logs",{address:t,topics:m}],onData(I){var E;if(!g)return;const P=I.result;try{const{eventName:T,args:R}=Ot({abi:y??[],data:P.data,topics:P.topics,strict:h}),S=Se(P,{args:R,eventName:T});a([S])}catch(T){let R,S;if(T instanceof zt||T instanceof tr){if(d)return;R=T.abiItem.name,S=(E=T.abiItem.inputs)==null?void 0:E.some(k=>!("name"in k&&k.name))}const F=Se(P,{args:S?[]:{},eventName:R});a([F])}},onError(I){c==null||c(I)}});x=v,g||x()}catch(B){c==null||c(B)}})(),()=>x()})()}function Gd(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=ge(["watchPendingTransactions",e.uid,t,o]);return Te(u,{onTransactions:r,onError:n},f=>{let d;const l=ot(async()=>{var h;try{if(!d)try{d=await _(e,ui,"createPendingTransactionFilter")({});return}catch(b){throw l(),b}const p=await _(e,tn,"getFilterChanges")({filter:d});if(p.length===0)return;if(t)f.onTransactions(p);else for(const b of p)f.onTransactions([b])}catch(p){(h=f.onError)==null||h.call(f,p)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await _(e,nn,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function Ud(e){var d,l,h;const{scheme:t,statement:n,...r}=((d=e.match(jd))==null?void 0:d.groups)??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:c,requestId:a,...u}=((l=e.match(Vd))==null?void 0:l.groups)??{},f=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...c?{notBefore:new Date(c)}:{},...a?{requestId:a}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const jd=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Vd=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Dd(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!ie(r.address,{strict:!1})||t&&!Kt(r.address,t))return!1}catch{return!1}return!0}async function Hd(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:c,time:a=new Date,...u}=t,f=Ud(s);if(!f.address||!Dd({address:n,domain:r,message:f,nonce:o,scheme:i,time:a}))return!1;const l=Xs(s);return cn(e,{address:f.address,hash:l,signature:c,...u})}async function qd(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var c,a,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,N(r)]:[t]},{retryCount:0}),i=(((u=(a=(c=e.chain)==null?void 0:c.formatters)==null?void 0:a.transactionReceipt)==null?void 0:u.format)||Er)(s);if(i.status==="reverted"&&n)throw new A0({receipt:i});return i}function Zd(e){return{call:t=>en(e,t),createAccessList:t=>ai(e,t),createBlockFilter:()=>Iu(e),createContractEventFilter:t=>co(e,t),createEventFilter:t=>ci(e,t),createPendingTransactionFilter:()=>ui(e),estimateContractGas:t=>ec(e,t),estimateGas:t=>hr(e,t),getBalance:t=>Au(e,t),getBlobBaseFee:()=>$u(e),getBlock:t=>ae(e,t),getBlockNumber:t=>$t(e,t),getBlockTransactionCount:t=>Su(e,t),getBytecode:t=>Un(e,t),getChainId:()=>br(e),getCode:t=>Un(e,t),getContractEvents:t=>Ro(e,t),getEip712Domain:t=>Nu(e,t),getEnsAddress:t=>uu(e,t),getEnsAvatar:t=>Pu(e,t),getEnsName:t=>Eu(e,t),getEnsResolver:t=>Bu(e,t),getEnsText:t=>ii(e,t),getFeeHistory:t=>Cu(e,t),estimateFeesPerGas:t=>D0(e,t),getFilterChanges:t=>tn(e,t),getFilterLogs:t=>zu(e,t),getGasPrice:()=>ur(e),getLogs:t=>mr(e,t),getProof:t=>bd(e,t),estimateMaxPriorityFeePerGas:t=>V0(e,t),fillTransaction:t=>Co(e,t),getStorageAt:t=>hd(e,t),getTransaction:t=>Lr(e,t),getTransactionConfirmations:t=>pd(e,t),getTransactionCount:t=>Io(e,t),getTransactionReceipt:t=>kt(e,t),multicall:t=>md(e,t),prepareTransactionRequest:t=>zo(e,t),readContract:t=>le(e,t),sendRawTransaction:t=>Yc(e,t),sendRawTransactionSync:t=>qd(e,t),simulate:t=>Kn(e,t),simulateBlocks:t=>Kn(e,t),simulateCalls:t=>Ad(e,t),simulateContract:t=>jc(e,t),verifyHash:t=>cn(e,t),verifyMessage:t=>Rd(e,t),verifySiweMessage:t=>Hd(e,t),verifyTypedData:t=>Od(e,t),uninstallFilter:t=>nn(e,t),waitForTransactionReceipt:t=>_d(e,t),watchBlocks:t=>Ld(e,t),watchBlockNumber:t=>Oi(e,t),watchContractEvent:t=>Kc(e,t),watchEvent:t=>Md(e,t),watchPendingTransactions:t=>Gd(e,t)}}function dl(e){const{key:t="public",name:n="Public Client"}=e;return nu({...e,key:t,name:n,type:"publicClient"}).extend(Zd)}function ll(e){const{r:t,s:n}=Rr.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,o]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:N(t,{size:32}),s:N(n,{size:32}),v:s,yParity:o}:{r:N(t,{size:32}),s:N(n,{size:32}),yParity:o}}export{Fa as $,Me as A,al as B,S0 as C,dl as D,H0 as E,sl as F,ru as G,ll as H,ol as I,xt as J,rn as K,ou as L,en as M,ja as N,ka as O,za as P,Ma as Q,La as R,_a as S,Ra as T,Va as U,nt as V,Ua as W,rs as X,ss as Y,Oa as Z,Ga as _,br as a,rt as a$,tu as a0,Zd as a1,Bd as a2,pe as a3,Xo as a4,Oc as a5,_c as a6,Zt as a7,Po as a8,Jc as a9,Es as aA,vt as aB,su as aC,pr as aD,fr as aE,dr as aF,Ao as aG,Z0 as aH,ko as aI,J0 as aJ,st as aK,c0 as aL,u0 as aM,Ee as aN,f0 as aO,cu as aP,Gn as aQ,et as aR,cr as aS,Eo as aT,Et as aU,L0 as aV,q0 as aW,Zc as aX,yo as aY,F0 as aZ,kd as a_,Mn as aa,Qo as ab,Qt as ac,po as ad,T0 as ae,Dt as af,ut as ag,du as ah,Ar as ai,O0 as aj,xo as ak,ar as al,U0 as am,r0 as an,w0 as ao,v0 as ap,P0 as aq,E0 as ar,B0 as as,I0 as at,bo as au,ho as av,$0 as aw,Ot as ax,De as ay,Pr as az,Io as b,Sr as b0,_u as b1,Lu as b2,Fo as b3,sn as b4,sr as b5,cl as c,Un as d,ao as e,Pt as f,_ as g,g0 as h,Kt as i,On as j,mo as k,D0 as l,ir as m,Se as n,Er as o,te as p,Te as q,le as r,fl as s,ot as t,nu as u,rl as v,Qd as w,el as x,Wt as y,il as z};
